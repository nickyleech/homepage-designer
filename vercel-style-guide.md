# Web Application Style Guide for Vercel Deployment

*Generated by Design Generator Pro v3.0 - Professional development teams*

## Table of Contents

1. [Design System Overview](#design-system-overview)
2. [Visual Design Standards](#visual-design-standards)
3. [Technical Architecture](#technical-architecture)
4. [Component Library](#component-library)
5. [Performance Standards](#performance-standards)
6. [Accessibility Guidelines](#accessibility-guidelines)
7. [Development Workflow](#development-workflow)
8. [Deployment Standards](#deployment-standards)
9. [Code Quality Standards](#code-quality-standards)
10. [Claude Code Integration](#claude-code-integration)

---

## Design System Overview

### Design Philosophy
Modern, accessible, and performance-optimised web applications with consistent user experiences across all platforms and devices.

### Core Principles
- **Mobile-First Responsive Design** - All components designed for mobile then progressively enhanced
- **Accessibility by Default** - WCAG AA compliance minimum, AAA preferred
- **Performance Optimisation** - Core Web Vitals scores in "Good" range
- **British English Standards** - Proper spellings (colour, organisation, optimise) and formatting
- **Semantic HTML** - Meaningful markup that conveys content structure
- **Progressive Enhancement** - Basic functionality works without JavaScript

---

## Visual Design Standards

### Colour System

#### Primary Palette
```css
/* Professional Blue Scheme */
:root {
  --colour-primary-50: #eff6ff;
  --colour-primary-100: #dbeafe;
  --colour-primary-500: #3b82f6;
  --colour-primary-600: #2563eb;
  --colour-primary-700: #1d4ed8;
  --colour-primary-900: #1e3a8a;
}
```

#### Semantic Colours
```css
:root {
  /* Success States */
  --colour-success: #10b981;
  --colour-success-light: #d1fae5;
  
  /* Warning States */
  --colour-warning: #f59e0b;
  --colour-warning-light: #fef3c7;
  
  /* Error States */
  --colour-error: #ef4444;
  --colour-error-light: #fee2e2;
  
  /* Neutral Palette */
  --colour-grey-50: #f9fafb;
  --colour-grey-100: #f3f4f6;
  --colour-grey-500: #6b7280;
  --colour-grey-700: #374151;
  --colour-grey-900: #111827;
}
```

#### Dark Mode Support
```css
:root {
  /* Light mode (default) */
  --colour-background: #ffffff;
  --colour-surface: #f9fafb;
  --colour-text-primary: #111827;
  --colour-text-secondary: #6b7280;
}

[data-theme="dark"] {
  --colour-background: #111827;
  --colour-surface: #1f2937;
  --colour-text-primary: #f9fafb;
  --colour-text-secondary: #d1d5db;
}
```

### Typography System

#### Font Stack
```css
:root {
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', monospace;
}
```

#### Type Scale
```css
:root {
  --text-xs: 0.75rem;    /* 12px */
  --text-sm: 0.875rem;   /* 14px */
  --text-base: 1rem;     /* 16px */
  --text-lg: 1.125rem;   /* 18px */
  --text-xl: 1.25rem;    /* 20px */
  --text-2xl: 1.5rem;    /* 24px */
  --text-3xl: 1.875rem;  /* 30px */
  --text-4xl: 2.25rem;   /* 36px */
}
```

#### Font Weights
```css
:root {
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
}
```

### Spacing System

#### Spacing Scale
```css
:root {
  --space-1: 0.25rem;    /* 4px */
  --space-2: 0.5rem;     /* 8px */
  --space-3: 0.75rem;    /* 12px */
  --space-4: 1rem;       /* 16px */
  --space-6: 1.5rem;     /* 24px */
  --space-8: 2rem;       /* 32px */
  --space-12: 3rem;      /* 48px */
  --space-16: 4rem;      /* 64px */
  --space-24: 6rem;      /* 96px */
}
```

### Border Radius
```css
:root {
  --radius-sm: 0.25rem;  /* 4px */
  --radius-md: 0.5rem;   /* 8px */
  --radius-lg: 0.75rem;  /* 12px */
  --radius-xl: 1rem;     /* 16px */
}
```

### Shadows
```css
:root {
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
}
```

---

## Technical Architecture

### Framework Standards
- **Next.js 14+** with App Router (preferred)
- **TypeScript** for type safety and developer experience
- **Tailwind CSS** for utility-first styling
- **React 18+** with modern hooks and patterns

### Project Structure
```
my-app/
├── README.md
├── STYLE_GUIDE.md              # This document
├── package.json
├── next.config.js
├── tailwind.config.ts
├── tsconfig.json
├── .env.example
├── public/
│   ├── favicon.ico
│   ├── robots.txt
│   └── images/
├── src/
│   ├── app/                    # Next.js App Router
│   │   ├── layout.tsx         # Root layout
│   │   ├── page.tsx           # Home page
│   │   ├── globals.css        # Global styles
│   │   └── (routes)/          # Route groups
│   ├── components/
│   │   ├── ui/                # Reusable UI components
│   │   │   ├── Button.tsx
│   │   │   ├── Card.tsx
│   │   │   ├── Input.tsx
│   │   │   └── index.ts       # Export barrel
│   │   ├── layout/            # Layout components
│   │   │   ├── Header.tsx
│   │   │   ├── Footer.tsx
│   │   │   └── Navigation.tsx
│   │   └── features/          # Feature-specific components
│   ├── lib/
│   │   ├── utils.ts           # Utility functions
│   │   ├── validations.ts     # Form validation schemas
│   │   └── constants.ts       # App constants
│   ├── hooks/                 # Custom React hooks
│   ├── types/                 # TypeScript type definitions
│   └── styles/
│       └── components.css     # Component-specific styles
├── __tests__/                 # Test files
└── docs/                      # Additional documentation
```

### State Management
- **Built-in React State** for component-level state
- **Zustand** for complex global state (when needed)
- **Server State** managed by React Query or SWR
- **URL State** for shareable application state

### Data Fetching
```typescript
// Preferred pattern for API calls
async function fetchUserData(id: string): Promise<User> {
  const response = await fetch(`/api/users/${id}`, {
    headers: {
      'Content-Type': 'application/json',
    },
  });
  
  if (!response.ok) {
    throw new Error(`Failed to fetch user: ${response.statusText}`);
  }
  
  return response.json();
}
```

---

## Component Library

### Button Component

#### Implementation
```typescript
// src/components/ui/Button.tsx
import { forwardRef } from 'react';
import { cva, type VariantProps } from 'class-variance-authority';

const buttonVariants = cva(
  "inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive: "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline: "border border-input hover:bg-accent hover:text-accent-foreground",
        secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "underline-offset-4 hover:underline text-primary",
      },
      size: {
        default: "h-10 py-2 px-4",
        sm: "h-9 px-3 rounded-md",
        lg: "h-11 px-8 rounded-md",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
);

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean;
}

const Button = forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    return (
      <button
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    );
  }
);

Button.displayName = "Button";

export { Button, buttonVariants };
```

#### Usage Examples
```typescript
// Primary action button
<Button>Submit Form</Button>

// Secondary action
<Button variant="outline">Cancel</Button>

// Destructive action
<Button variant="destructive">Delete Account</Button>

// Loading state
<Button disabled>
  <Loader2 className="mr-2 h-4 w-4 animate-spin" />
  Processing...
</Button>
```

### Card Component

#### Implementation
```typescript
// src/components/ui/Card.tsx
import { forwardRef } from 'react';

const Card = forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(
  ({ className, ...props }, ref) => (
    <div
      ref={ref}
      className={cn(
        "rounded-lg border bg-card text-card-foreground shadow-sm",
        className
      )}
      {...props}
    />
  )
);

const CardHeader = forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(
  ({ className, ...props }, ref) => (
    <div
      ref={ref}
      className={cn("flex flex-col space-y-1.5 p-6", className)}
      {...props}
    />
  )
);

const CardTitle = forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(
  ({ className, ...props }, ref) => (
    <h3
      ref={ref}
      className={cn("text-2xl font-semibold leading-none tracking-tight", className)}
      {...props}
    />
  )
);

const CardContent = forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(
  ({ className, ...props }, ref) => (
    <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />
  )
);
```

### Input Component

#### Implementation
```typescript
// src/components/ui/Input.tsx
import { forwardRef } from 'react';

export interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}

const Input = forwardRef<HTMLInputElement, InputProps>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
          className
        )}
        ref={ref}
        {...props}
      />
    );
  }
);
```

---

## Performance Standards

### Core Web Vitals Targets
- **Largest Contentful Paint (LCP)**: < 2.5 seconds
- **First Input Delay (FID)**: < 100 milliseconds  
- **Cumulative Layout Shift (CLS)**: < 0.1
- **First Contentful Paint (FCP)**: < 1.8 seconds

### Image Optimisation
```typescript
// Use Next.js Image component for all images
import Image from 'next/image';

<Image
  src="/images/hero-image.jpg"
  alt="Descriptive alt text"
  width={800}
  height={600}
  priority // For above-the-fold images
  className="rounded-lg"
/>
```

### Code Splitting
```typescript
// Dynamic imports for large components
import dynamic from 'next/dynamic';

const HeavyComponent = dynamic(() => import('./HeavyComponent'), {
  loading: () => <ComponentSkeleton />,
  ssr: false, // Client-side only if needed
});
```

### Bundle Optimisation
```javascript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {
    optimizeCss: true,
    gzipSize: true,
  },
  images: {
    formats: ['image/webp', 'image/avif'],
    deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],
  },
  compiler: {
    removeConsole: process.env.NODE_ENV === 'production',
  },
};
```

---

## Accessibility Guidelines

### WCAG AA Compliance Requirements

#### Colour Contrast
- **Normal text**: 4.5:1 minimum contrast ratio
- **Large text** (18pt+): 3:1 minimum contrast ratio
- **Interactive elements**: 4.5:1 minimum contrast ratio

#### Keyboard Navigation
```typescript
// Proper keyboard handling example
const Button = ({ onClick, children, ...props }) => {
  const handleKeyDown = (event: KeyboardEvent<HTMLButtonElement>) => {
    if (event.key === 'Enter' || event.key === ' ') {
      event.preventDefault();
      onClick?.(event);
    }
  };

  return (
    <button
      onClick={onClick}
      onKeyDown={handleKeyDown}
      aria-label="Descriptive button action"
      {...props}
    >
      {children}
    </button>
  );
};
```

#### ARIA Attributes
```typescript
// Form input with proper labelling
<div className="form-group">
  <label htmlFor="email" className="form-label">
    Email Address
  </label>
  <input
    id="email"
    type="email"
    aria-describedby="email-error"
    aria-invalid={hasError}
    className="form-input"
  />
  {hasError && (
    <div id="email-error" role="alert" className="error-message">
      Please enter a valid email address
    </div>
  )}
</div>
```

#### Focus Management
```css
/* Visible focus indicators */
.focus-visible {
  @apply outline-none ring-2 ring-primary ring-offset-2;
}

/* Skip to main content link */
.skip-link {
  @apply absolute -top-10 left-4 z-50 bg-background px-4 py-2 text-foreground;
  @apply focus:top-4 focus:outline-none focus:ring-2 focus:ring-primary;
}
```

---

## Development Workflow

### Component Development Process

#### 1. Component Planning
```markdown
## Component: ProductCard

### Requirements
- Display product image, title, price, and rating
- Support hover states and keyboard navigation
- Responsive design for mobile and desktop
- Accessible for screen readers

### Props Interface
- product: Product (required)
- onAddToCart?: (productId: string) => void
- className?: string
```

#### 2. Implementation
```typescript
// src/components/ui/ProductCard.tsx
interface ProductCardProps {
  product: Product;
  onAddToCart?: (productId: string) => void;
  className?: string;
}

export function ProductCard({ product, onAddToCart, className }: ProductCardProps) {
  return (
    <Card className={cn("group hover:shadow-lg transition-shadow", className)}>
      <CardContent className="p-4">
        <div className="aspect-square relative mb-4">
          <Image
            src={product.imageUrl}
            alt={product.title}
            fill
            className="object-cover rounded-md"
          />
        </div>
        <h3 className="font-semibold text-lg mb-2 line-clamp-2">
          {product.title}
        </h3>
        <div className="flex items-center justify-between">
          <span className="text-2xl font-bold text-primary">
            £{product.price}
          </span>
          <Button
            size="sm"
            onClick={() => onAddToCart?.(product.id)}
            aria-label={`Add ${product.title} to cart`}
          >
            Add to Cart
          </Button>
        </div>
      </CardContent>
    </Card>
  );
}
```

#### 3. Testing
```typescript
// __tests__/components/ProductCard.test.tsx
import { render, screen, fireEvent } from '@testing-library/react';
import { ProductCard } from '@/components/ui/ProductCard';

const mockProduct = {
  id: '1',
  title: 'Test Product',
  price: 29.99,
  imageUrl: '/test-image.jpg',
};

describe('ProductCard', () => {
  it('renders product information correctly', () => {
    render(<ProductCard product={mockProduct} />);
    
    expect(screen.getByText('Test Product')).toBeInTheDocument();
    expect(screen.getByText('£29.99')).toBeInTheDocument();
    expect(screen.getByRole('img', { name: 'Test Product' })).toBeInTheDocument();
  });

  it('calls onAddToCart when button is clicked', () => {
    const mockAddToCart = jest.fn();
    render(<ProductCard product={mockProduct} onAddToCart={mockAddToCart} />);
    
    fireEvent.click(screen.getByRole('button', { name: /add.*to cart/i }));
    expect(mockAddToCart).toHaveBeenCalledWith('1');
  });
});
```

### Form Handling Standards

#### React Hook Form Integration
```typescript
// src/hooks/useContactForm.ts
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';

const contactSchema = z.object({
  name: z.string().min(2, 'Name must be at least 2 characters'),
  email: z.string().email('Please enter a valid email address'),
  message: z.string().min(10, 'Message must be at least 10 characters'),
});

type ContactFormData = z.infer<typeof contactSchema>;

export function useContactForm() {
  return useForm<ContactFormData>({
    resolver: zodResolver(contactSchema),
    defaultValues: {
      name: '',
      email: '',
      message: '',
    },
  });
}
```

---

## Deployment Standards

### Vercel Configuration

#### vercel.json
```json
{
  "framework": "nextjs",
  "buildCommand": "next build",
  "devCommand": "next dev",
  "installCommand": "npm ci",
  "functions": {
    "src/app/api/**/*.ts": {
      "maxDuration": 30
    }
  },
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "X-Content-Type-Options",
          "value": "nosniff"
        },
        {
          "key": "X-Frame-Options", 
          "value": "DENY"
        },
        {
          "key": "X-XSS-Protection",
          "value": "1; mode=block"
        },
        {
          "key": "Strict-Transport-Security",
          "value": "max-age=31536000; includeSubDomains"
        }
      ]
    }
  ],
  "redirects": [
    {
      "source": "/old-path",
      "destination": "/new-path",
      "permanent": true
    }
  ]
}
```

#### Environment Variables
```bash
# .env.example
# Application Configuration
NEXT_PUBLIC_APP_NAME="My Application"
NEXT_PUBLIC_APP_URL="https://my-app.vercel.app"

# Database
DATABASE_URL="postgresql://..."

# Authentication (if using NextAuth.js)
NEXTAUTH_SECRET="your-secret-key"
NEXTAUTH_URL="https://my-app.vercel.app"

# External Services
STRIPE_SECRET_KEY="sk_test_..."
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID="G-..."
```

#### Performance Optimisations
```javascript
// next.config.js
const nextConfig = {
  // Vercel-specific optimisations
  poweredByHeader: false,
  compress: true,
  
  // Image optimisation
  images: {
    domains: ['images.unsplash.com', 'res.cloudinary.com'],
    formats: ['image/webp', 'image/avif'],
  },
  
  // Bundle optimisation
  experimental: {
    optimizeCss: true,
    optimizeServerReact: true,
  },
  
  // Security headers
  async headers() {
    return [
      {
        source: '/(.*)',
        headers: [
          {
            key: 'Content-Security-Policy',
            value: "default-src 'self'; script-src 'self' 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline';",
          },
        ],
      },
    ];
  },
};
```

---

## Code Quality Standards

### TypeScript Configuration
```json
{
  "compilerOptions": {
    "target": "ES2022",
    "lib": ["dom", "dom.iterable", "ES2022"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [{ "name": "next" }],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts"
  ],
  "exclude": ["node_modules"]
}
```

### ESLint Configuration
```json
{
  "extends": [
    "next/core-web-vitals",
    "@typescript-eslint/recommended",
    "prettier"
  ],
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "@typescript-eslint/explicit-function-return-type": "warn",
    "prefer-const": "error",
    "no-var": "error"
  }
}
```

### Prettier Configuration
```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false
}
```

---

## Error Handling Standards

### Global Error Boundary
```typescript
// src/components/ErrorBoundary.tsx
'use client';

import { Component, ErrorInfo, ReactNode } from 'react';

interface Props {
  children: ReactNode;
}

interface State {
  hasError: boolean;
  error?: Error;
}

export class ErrorBoundary extends Component<Props, State> {
  public state: State = {
    hasError: false,
  };

  public static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }

  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('Uncaught error:', error, errorInfo);
    
    // Report to error monitoring service
    if (process.env.NODE_ENV === 'production') {
      // Sentry.captureException(error);
    }
  }

  public render() {
    if (this.state.hasError) {
      return (
        <div className="min-h-screen flex items-center justify-center">
          <Card className="max-w-md mx-auto">
            <CardHeader>
              <CardTitle className="text-destructive">Something went wrong</CardTitle>
            </CardHeader>
            <CardContent>
              <p className="text-muted-foreground mb-4">
                We're sorry, but something unexpected happened. Please try refreshing the page.
              </p>
              <Button 
                onClick={() => window.location.reload()}
                className="w-full"
              >
                Refresh Page
              </Button>
            </CardContent>
          </Card>
        </div>
      );
    }

    return this.props.children;
  }
}
```

### API Error Handling
```typescript
// src/lib/api.ts
export class APIError extends Error {
  constructor(
    message: string,
    public status: number,
    public code?: string
  ) {
    super(message);
    this.name = 'APIError';
  }
}

export async function apiRequest<T>(
  endpoint: string,
  options?: RequestInit
): Promise<T> {
  try {
    const response = await fetch(`/api${endpoint}`, {
      headers: {
        'Content-Type': 'application/json',
        ...options?.headers,
      },
      ...options,
    });

    if (!response.ok) {
      const errorData = await response.json().catch(() => ({}));
      throw new APIError(
        errorData.message || 'An error occurred',
        response.status,
        errorData.code
      );
    }

    return response.json();
  } catch (error) {
    if (error instanceof APIError) {
      throw error;
    }
    throw new APIError('Network error occurred', 0);
  }
}
```

---

## SEO Standards

### Metadata Configuration
```typescript
// src/app/layout.tsx
import { Metadata } from 'next';

export const metadata: Metadata = {
  title: {
    default: 'My Application',
    template: '%s | My Application',
  },
  description: 'Professional web application built with Next.js and deployed on Vercel',
  keywords: ['nextjs', 'react', 'typescript', 'tailwind'],
  authors: [{ name: 'Your Name' }],
  creator: 'Your Company',
  publisher: 'Your Company',
  robots: {
    index: true,
    follow: true,
  },
  openGraph: {
    type: 'website',
    locale: 'en_GB',
    url: 'https://my-app.vercel.app',
    title: 'My Application',
    description: 'Professional web application built with Next.js',
    siteName: 'My Application',
    images: [
      {
        url: '/og-image.jpg',
        width: 1200,
        height: 630,
        alt: 'My Application',
      },
    ],
  },
  twitter: {
    card: 'summary_large_image',
    title: 'My Application',
    description: 'Professional web application built with Next.js',
    creator: '@yourusername',
    images: ['/og-image.jpg'],
  },
};
```

### Structured Data
```typescript
// src/components/StructuredData.tsx
interface StructuredDataProps {
  data: Record<string, any>;
}

export function StructuredData({ data }: StructuredDataProps) {
  return (
    <script
      type="application/ld+json"
      dangerouslySetInnerHTML={{
        __html: JSON.stringify(data),
      }}
    />
  );
}

// Usage in page
const organizationData = {
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "My Company",
  "url": "https://my-app.vercel.app",
  "logo": "https://my-app.vercel.app/logo.svg",
};

<StructuredData data={organizationData} />
```

---

## Security Standards

### Content Security Policy
```typescript
// next.config.js
const ContentSecurityPolicy = `
  default-src 'self';
  script-src 'self' 'unsafe-eval' 'unsafe-inline' *.vercel-analytics.com;
  style-src 'self' 'unsafe-inline';
  img-src 'self' blob: data: https:;
  font-src 'self' data:;
  object-src 'none';
  base-uri 'self';
  form-action 'self';
  frame-ancestors 'none';
  upgrade-insecure-requests;
`;

const securityHeaders = [
  {
    key: 'Content-Security-Policy',
    value: ContentSecurityPolicy.replace(/\s{2,}/g, ' ').trim(),
  },
  {
    key: 'Referrer-Policy',
    value: 'strict-origin-when-cross-origin',
  },
  {
    key: 'X-Content-Type-Options',
    value: 'nosniff',
  },
  {
    key: 'X-DNS-Prefetch-Control',
    value: 'false',
  },
  {
    key: 'X-Frame-Options',
    value: 'DENY',
  },
];
```

### Input Validation
```typescript
// src/lib/validations.ts
import { z } from 'zod';

export const userSchema = z.object({
  name: z
    .string()
    .min(2, 'Name must be at least 2 characters')
    .max(50, 'Name must be less than 50 characters')
    .regex(/^[a-zA-Z\s]+$/, 'Name can only contain letters and spaces'),
  email: z
    .string()
    .email('Please enter a valid email address')
    .toLowerCase(),
  phone: z
    .string()
    .regex(/^(\+44|0)[1-9]\d{8,9}$/, 'Please enter a valid UK phone number')
    .optional(),
});

// API route validation
export async function POST(request: Request) {
  try {
    const body = await request.json();
    const validatedData = userSchema.parse(body);
    
    // Process validated data
    return Response.json({ success: true });
  } catch (error) {
    if (error instanceof z.ZodError) {
      return Response.json(
        { error: 'Validation failed', details: error.errors },
        { status: 400 }
      );
    }
    
    return Response.json(
      { error: 'Internal server error' },
      { status: 500 }
    );
  }
}
```

---

## Claude Code Integration

### Style Guide Usage Instructions

#### For New Applications
When starting a new project with Claude Code:

```bash
# 1. Reference this style guide
"Create a new Next.js application following the style guide at STYLE_GUIDE.md. Build a professional portfolio website with the following features: hero section, about page, project gallery, and contact form. Ensure WCAG AA compliance and optimal Vercel deployment."

# 2. Specific component requests
"Following the component patterns in STYLE_GUIDE.md, create a ProductCard component that displays product image, title, price, and rating. Include proper TypeScript types, accessibility attributes, and hover animations."

# 3. Feature implementation
"Using the form handling standards from STYLE_GUIDE.md, implement a contact form with validation using React Hook Form and Zod. Include proper error states and success feedback."
```

#### For Existing Applications
When enhancing existing projects:

```bash
# 1. Style guide analysis
"Analyse my existing React application against the standards in STYLE_GUIDE.md. Identify areas where the codebase doesn't follow the established patterns and suggest improvements."

# 2. Progressive enhancement  
"Following the style guide, progressively enhance my application by adding dark mode support, improving accessibility to WCAG AA standards, and optimising performance for Core Web Vitals."

# 3. Component modernisation
"Update my existing Button component to match the specifications in STYLE_GUIDE.md. Ensure it includes all variants, proper TypeScript types, and accessibility features."
```

### Key Integration Benefits

1. **Consistent Implementation** - All Claude Code sessions follow the same standards
2. **Reduced Context** - No need to re-explain design decisions each time
3. **Quality Assurance** - Built-in standards prevent common mistakes
4. **Scalable Architecture** - Foundation that grows with your application
5. **Team Alignment** - Shared understanding of code quality and design standards

### Quick Reference Commands

```bash
# Component creation
"Create a [ComponentName] following STYLE_GUIDE.md patterns"

# Style compliance  
"Ensure this code follows the style guide standards for [specific area]"

# Performance optimisation
"Optimise this component using the performance standards from STYLE_GUIDE.md"

# Accessibility audit
"Review this component against the accessibility guidelines in STYLE_GUIDE.md"

# Deployment preparation
"Prepare this application for Vercel deployment following STYLE_GUIDE.md requirements"
```

---

## Maintenance and Updates

### Style Guide Evolution
- **Version Control** - Track changes to design system over time
- **Component Documentation** - Maintain examples and usage guidelines
- **Performance Monitoring** - Regular audits of Core Web Vitals compliance
- **Accessibility Testing** - Automated and manual accessibility validation
- **Team Review Process** - Regular review of style guide effectiveness

### Regular Audits
- **Monthly Performance Review** - Lighthouse scores and Core Web Vitals
- **Quarterly Accessibility Audit** - WCAG compliance verification  
- **Security Review** - Dependency updates and vulnerability scanning
- **Code Quality Metrics** - TypeScript coverage, test coverage, bundle analysis

---

*This style guide ensures consistent, high-quality web applications optimised for Vercel deployment with excellent performance, accessibility, and developer experience.*

**Last Updated**: ${new Date().toLocaleDateString('en-GB')}
**Version**: 1.0.0
**Framework**: Next.js 14+ / React 18+
**Deployment**: Vercel optimised