<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage Design Generator Pro</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
            min-height: 100vh;
        }

        /* Beautiful SVG Icon System */
        .icon {
            display: inline-block;
            width: 1.2em;
            height: 1.2em;
            vertical-align: -0.125em;
            fill: currentColor;
            margin-right: 0.25em;
        }

        .icon-lg {
            width: 1.5em;
            height: 1.5em;
        }

        .icon-sm {
            width: 1em;
            height: 1em;
        }

        /* Icon container for buttons */
        .icon-text {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .header {
            background: white;
            border-bottom: 1px solid #e1e5e9;
            padding: 16px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
                padding: 16px 20px;
            }
            
            .nav-tabs {
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .nav-tab {
                flex: 1;
                min-width: 80px;
                justify-content: center;
            }
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            colour: #1f2937;
        }

        .nav-tabs {
            display: flex;
            gap: 2px;
            background: #f1f3f4;
            border-radius: 10px;
            padding: 4px;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .nav-tab {
            padding: 10px 16px;
            border: none;
            background: transparent;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            colour: #6b7280;
            transition: all 0.2s;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 6px;
            position: relative;
        }

        .nav-tab span {
            font-size: 16px;
            line-height: 1;
        }

        .nav-tab.active {
            background: white;
            colour: #1f2937;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .nav-tab:hover:not(.active) {
            background: rgba(255,255,255,0.6);
            colour: #374151;
        }


        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 380px 1fr;
            gap: 20px;
            min-height: calc(100vh - 80px);
        }

        .controls {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
            height: fit-content;
            position: sticky;
            top: 100px;
            max-height: calc(100vh - 120px);
            overflow-y: auto;
        }

        .preview-section {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .preview-controls {
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .device-selector {
            display: flex;
            gap: 8px;
        }

        .device-btn {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .device-btn.active {
            background: #3b82f6;
            colour: white;
            border-colour: #3b82f6;
        }

        .preview {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            transition: all 0.3s ease;
        }

        .preview.mobile {
            max-width: 375px;
            margin: 0 auto;
        }

        .preview.tablet {
            max-width: 768px;
            margin: 0 auto;
        }

        .preview-header {
            background: #f1f3f4;
            padding: 12px 20px;
            border-bottom: 1px solid #e1e5e9;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .preview-dots {
            display: flex;
            gap: 6px;
        }

        .preview-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #d1d5db;
        }

        .preview-dot:nth-child(1) { background: #ef4444; }
        .preview-dot:nth-child(2) { background: #f59e0b; }
        .preview-dot:nth-child(3) { background: #10b981; }

        .preview-frame {
            background: white;
            min-height: 600px;
            overflow-y: auto;
        }

        h1 {
            font-size: 28px;
            font-weight: 700;
            colour: #1f2937;
            margin-bottom: 8px;
        }

        h2 {
            font-size: 18px;
            font-weight: 600;
            colour: #374151;
            margin-bottom: 16px;
            margin-top: 24px;
        }

        h2:first-of-type {
            margin-top: 0;
        }

        .form-group {
            margin-bottom: 16px;
        }

        label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            colour: #374151;
            margin-bottom: 6px;
        }

        input, select, textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-colour: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
        }
        
        /* Validation error styles */
        input.validation-error, select.validation-error, textarea.validation-error {
            border-colour: #ef4444;
            box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.1);
        }
        
        .validation-error-message {
            colour: #ef4444;
            font-size: 0.75rem;
            margin-top: 0.25rem;
            display: block;
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .style-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-bottom: 16px;
        }

        .style-option {
            padding: 16px 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
        }

        .style-option:hover {
            border-colour: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
        }

        .style-option.active {
            border-colour: #3b82f6;
            background: #eff6ff;
        }

        .style-name {
            font-size: 13px;
            font-weight: 600;
            colour: #1f2937;
            margin-bottom: 4px;
        }

        .style-desc {
            font-size: 11px;
            colour: #6b7280;
            line-height: 1.3;
        }

        /* Professional Style-Specific Styling */
        .style-option[data-style="minimalist"] {
            background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
            border-colour: #e2e8f0;
        }

        .style-option[data-style="dashboard"] {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border-colour: #475569;
        }
        .style-option[data-style="dashboard"] .style-name {
            colour: #f1f5f9;
        }
        .style-option[data-style="dashboard"] .style-desc {
            colour: #cbd5e1;
        }

        .style-option[data-style="corporate"] {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            border-colour: #2563eb;
        }
        .style-option[data-style="corporate"] .style-name {
            colour: #ffffff;
        }
        .style-option[data-style="corporate"] .style-desc {
            colour: #dbeafe;
        }

        .style-option[data-style="creative"] {
            background: linear-gradient(135deg, #7c3aed 0%, #ec4899 100%);
            border-colour: #a855f7;
        }
        .style-option[data-style="creative"] .style-name {
            colour: #ffffff;
        }
        .style-option[data-style="creative"] .style-desc {
            colour: #f3e8ff;
        }

        .style-option[data-style="tech"] {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border-colour: #7c3aed;
        }
        .style-option[data-style="tech"] .style-name {
            colour: #ffffff;
        }
        .style-option[data-style="tech"] .style-desc {
            colour: #e0e7ff;
        }

        .style-option[data-style="ecommerce"] {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            border-colour: #047857;
        }
        .style-option[data-style="ecommerce"] .style-name {
            colour: #ffffff;
        }
        .style-option[data-style="ecommerce"] .style-desc {
            colour: #d1fae5;
        }

        .style-option[data-style="blog"] {
            background: linear-gradient(135deg, #374151 0%, #1f2937 100%);
            border-colour: #4b5563;
        }
        .style-option[data-style="blog"] .style-name {
            colour: #ffffff;
        }
        .style-option[data-style="blog"] .style-desc {
            colour: #d1d5db;
        }

        .style-option[data-style="restaurant"] {
            background: linear-gradient(135deg, #dc2626 0%, #ea580c 100%);
            border-colour: #c2410c;
        }
        .style-option[data-style="restaurant"] .style-name {
            colour: #ffffff;
        }
        .style-option[data-style="restaurant"] .style-desc {
            colour: #fed7aa;
        }

        .style-option[data-style="photography"] {
            background: linear-gradient(135deg, #1c1917 0%, #292524 100%);
            border-colour: #d97706;
        }
        .style-option[data-style="photography"] .style-name {
            colour: #fbbf24;
        }
        .style-option[data-style="photography"] .style-desc {
            colour: #fde68a;
        }

        .style-option[data-style="realestate"] {
            background: linear-gradient(135deg, #92400e 0%, #d97706 100%);
            border-colour: #b45309;
        }
        .style-option[data-style="realestate"] .style-name {
            colour: #ffffff;
        }
        .style-option[data-style="realestate"] .style-desc {
            colour: #fef3c7;
        }

        .style-option[data-style="healthcare"] {
            background: linear-gradient(135deg, #0891b2 0%, #06b6d4 100%);
            border-colour: #0e7490;
        }
        .style-option[data-style="healthcare"] .style-name {
            colour: #ffffff;
        }
        .style-option[data-style="healthcare"] .style-desc {
            colour: #cffafe;
        }

        .style-option[data-style="education"] {
            background: linear-gradient(135deg, #065f46 0%, #059669 100%);
            border-colour: #047857;
        }
        .style-option[data-style="education"] .style-name {
            colour: #ffffff;
        }
        .style-option[data-style="education"] .style-desc {
            colour: #d1fae5;
        }

        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 6px;
            margin-bottom: 16px;
        }

        .template-option {
            padding: 12px 8px;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 12px;
            font-weight: 500;
        }

        .template-option:hover {
            border-colour: #3b82f6;
        }

        .template-option.active {
            border-colour: #3b82f6;
            background: #eff6ff;
        }

        .template-category {
            margin-bottom: 32px;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            background: #fafafa;
        }

        .template-category-title {
            margin: 0 0 8px 0;
            font-size: 18px;
            font-weight: 600;
            colour: #1f2937;
        }

        .template-category-desc {
            margin: 0 0 16px 0;
            font-size: 14px;
            colour: #6b7280;
            line-height: 1.4;
        }

        .template-option {
            padding: 12px 8px;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 12px;
            font-weight: 500;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .template-option:hover {
            border-colour: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
        }

        .template-preview {
            display: none;
            overflow: hidden;
            margin-bottom: 4px;
        }

        .template-name {
            font-weight: 600;
            colour: #1f2937;
            margin-bottom: 4px;
        }

        .template-desc {
            font-size: 10px;
            colour: #6b7280;
            line-height: 1.3;
        }

        .page-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 16px;
        }

        .page-btn {
            padding: 6px 12px;
            border: 1px solid #d1d5db;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .page-btn.active {
            background: #3b82f6;
            colour: white;
            border-colour: #3b82f6;
        }

        .button-group {
            display: flex;
            gap: 8px;
            margin-top: 24px;
        }

        button {
            flex: 1;
            padding: 10px 16px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #3b82f6;
            colour: white;
        }

        .btn-primary:hover {
            background: #2563eb;
        }

        .btn-secondary {
            background: #f3f4f6;
            colour: #374151;
            border: 1px solid #d1d5db;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Component Library Styles */
        .component-library {
            max-height: calc(100vh - 200px);
            overflow-y: auto;
        }

        .component-category {
            margin-bottom: 2rem;
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            colour: #374151;
            margin-bottom: 1rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
        }

        .component-card {
            border: 2px dashed #e5e7eb;
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            cursor: grab;
            transition: all 0.3s;
            background: white;
        }

        .component-card:hover {
            border-colour: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
        }

        .component-card:active {
            cursor: grabbing;
        }

        .component-preview-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .component-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
            font-size: 0.85rem;
        }

        .component-desc {
            font-size: 0.75rem;
            colour: #6b7280;
            line-height: 1.3;
        }

        /* Drag and Drop Styles */
        .drop-zone {
            min-height: 200px;
            border: 2px dashed #d1d5db;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            colour: #6b7280;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            transition: all 0.3s;
        }

        .drop-zone.drag-over {
            border-colour: #3b82f6;
            background: #eff6ff;
            colour: #3b82f6;
        }

        .component-editor {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
            display: none;
        }

        .component-editor.active {
            display: block;
        }

        .editor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .editor-title {
            font-weight: 600;
            colour: #374151;
        }

        .editor-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            colour: #6b7280;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .prop-group {
            margin-bottom: 1rem;
        }

        .prop-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            colour: #374151;
            margin-bottom: 0.25rem;
        }

        .canvas-area {
            background: white;
            border-radius: 0.5rem;
            min-height: 400px;
            border: 1px solid #e5e7eb;
            position: relative;
            overflow: hidden;
        }

        .canvas-component {
            border: 2px solid transparent;
            transition: border-colour 0.2s;
            position: relative;
        }

        .canvas-component:hover {
            border-colour: #3b82f6;
        }

        .canvas-component.selected {
            border-colour: #3b82f6;
            background: rgba(59, 130, 246, 0.05);
        }

        .component-toolbar {
            position: absolute;
            top: -2px;
            right: -2px;
            background: #3b82f6;
            border-radius: 0 0 0 0.375rem;
            padding: 0.25rem;
            display: none;
        }

        .canvas-component:hover .component-toolbar,
        .canvas-component.selected .component-toolbar {
            display: flex;
        }

        .toolbar-btn {
            background: none;
            border: none;
            colour: white;
            font-size: 0.75rem;
            padding: 0.25rem;
            cursor: pointer;
            border-radius: 0.25rem;
            margin-left: 0.25rem;
        }

        .toolbar-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
                gap: 16px;
            }

            .controls {
                position: static;
                max-height: none;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 16px;
            }

            .style-grid {
                grid-template-columns: 1fr 1fr;
            }

            .template-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .theme-option span:last-child {
                display: none;
            }
        }

        /* Theme Toggle Styles */
        .theme-toggle-container {
            margin-top: 8px;
        }
        
        .theme-toggle {
            display: flex;
            background: #f1f3f4;
            border-radius: 8px;
            padding: 4px;
            position: relative;
        }
        
        .theme-toggle input[type="radio"] {
            display: none;
        }
        
        .theme-option {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 13px;
            font-weight: 500;
            colour: #6b7280;
        }
        
        .theme-option .theme-icon {
            font-size: 14px;
        }
        
        .theme-toggle input[type="radio"]:checked + .theme-option {
            background: white;
            colour: #1f2937;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        /* Brand Colour Tools */
        .brand-colour-tools {
            margin-top: 8px;
        }
        
        .colour-section-divider {
            margin-top: 16px; 
            padding-top: 16px; 
            border-top: 1px solid #e9ecef;
        }
        
        .colour-section-title {
            margin: 0 0 12px 0; 
            font-size: 14px; 
            font-weight: 600; 
            colour: #374151;
        }
        
        .colour-input-group {
            margin-bottom: 12px;
        }
        
        .colour-input-label {
            display: block; 
            margin-bottom: 6px; 
            font-size: 13px; 
            font-weight: 500; 
            colour: #6b7280;
        }
        
        .colour-picker {
            width: 100%; 
            height: 44px; 
            border: 2px solid #d1d5db; 
            border-radius: 6px; 
            cursor: pointer;
        }
        
        .extracted-colours-container {
            display: none; 
            margin-top: 12px; 
            padding: 16px; 
            background: #f8f9fa; 
            border-radius: 8px; 
            border: 1px solid #e9ecef;
        }
        
        /* Enhanced Colour Section Styles */
        .colour-section {
            margin-bottom: 16px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .section-header {
            padding: 12px 16px;
            background: #f9fafb;
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background-colour 0.2s;
            position: relative;
        }
        
        .section-header:hover {
            background: #f3f4f6;
        }
        
        .section-header .colour-section-title {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .toggle-icon {
            font-size: 12px;
            transition: transform 0.2s;
            colour: #6b7280;
        }
        
        .section-header.collapsed .toggle-icon {
            transform: rotate(-90deg);
        }
        
        .tooltip {
            position: absolute;
            bottom: -28px;
            left: 16px;
            background: #1f2937;
            colour: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
            z-index: 10;
        }
        
        .section-header:hover .tooltip {
            opacity: 1;
        }
        
        .collapsible-section {
            padding: 16px;
            transition: all 0.3s ease;
            max-height: 500px;
            opacity: 1;
        }
        
        .collapsible-section.collapsed {
            max-height: 0;
            padding: 0 16px;
            opacity: 0;
        }
        
        /* Colour Input Enhancements */
        .colour-input-wrapper {
            display: flex;
            gap: 8px;
            align-items: center;
            position: relative;
        }
        
        .colour-picker {
            flex: 0 0 60px;
            height: 44px;
            border: 2px solid #d1d5db;
            border-radius: 6px;
            cursor: pointer;
            transition: border-colour 0.2s, box-shadow 0.2s;
        }
        
        .colour-picker:hover {
            border-colour: #9ca3af;
        }
        
        .colour-picker:focus {
            outline: none;
            border-colour: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .hex-input {
            flex: 1;
            height: 44px;
            padding: 8px 12px;
            border: 2px solid #d1d5db;
            border-radius: 6px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 14px;
            text-transform: uppercase;
            transition: border-colour 0.2s;
        }
        
        .hex-input:focus {
            outline: none;
            border-colour: #3b82f6;
        }
        
        .contrast-indicator {
            flex: 0 0 44px;
            height: 44px;
            border-radius: 6px;
            border: 2px solid #d1d5db;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            position: relative;
            cursor: help;
        }
        
        .contrast-indicator.good {
            background: #10b981;
            colour: white;
            border-colour: #059669;
        }
        
        .contrast-indicator.warning {
            background: #f59e0b;
            colour: white;
            border-colour: #d97706;
        }
        
        .contrast-indicator.poor {
            background: #ef4444;
            colour: white;
            border-colour: #dc2626;
        }
        
        /* Colour Tools */
        .colour-tools {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }
        
        .btn-small {
            flex: 1;
            padding: 8px 12px;
            font-size: 12px;
            font-weight: 500;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            background: white;
            colour: #374151;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-small:hover {
            background: #f9fafb;
            border-colour: #9ca3af;
        }
        
        /* Presets Grid */
        .presets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 8px;
            margin-bottom: 16px;
        }
        
        .preset-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .preset-item:hover {
            border-colour: #3b82f6;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .preset-colours {
            display: flex;
            gap: 2px;
            margin-bottom: 6px;
        }
        
        .preset-swatch {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .preset-name {
            font-size: 11px;
            font-weight: 500;
            colour: #6b7280;
            text-align: center;
        }
        
        /* History Swatches */
        .history-swatches {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }
        
        .history-swatch {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            border: 2px solid #e5e7eb;
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
        }
        
        .history-swatch:hover {
            transform: scale(1.1);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        
        .history-swatch .favourite-star {
            position: absolute;
            top: -6px;
            right: -6px;
            width: 16px;
            height: 16px;
            background: #fbbf24;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            colour: white;
        }
        
        /* Messages */
        .colour-message {
            margin-top: 12px;
            padding: 12px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .colour-message.success {
            background: #d1fae5;
            colour: #065f46;
            border: 1px solid #a7f3d0;
        }
        
        .colour-message.error {
            background: #fee2e2;
            colour: #991b1b;
            border: 1px solid #fca5a5;
        }
        
        /* Loading Spinner */
        .loading-spinner {
            width: 24px;
            height: 24px;
            border: 3px solid #f3f4f6;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .section-divider {
            height: 1px;
            background: #e5e7eb;
            margin: 12px 0;
        }
        
        
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }
        
        .extracted-palette {
            display: flex;
            gap: 8px;
            margin: 8px 0;
            flex-wrap: wrap;
        }
        
        .colour-swatch {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            border: 2px solid #e5e7eb;
            cursor: pointer;
            position: relative;
            transition: transform 0.2s ease;
        }
        
        .colour-swatch:hover {
            transform: scale(1.1);
        }
        
        .colour-swatch.selected {
            border-colour: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        
        .colour-swatch .colour-info {
            position: absolute;
            bottom: -24px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 10px;
            colour: #6b7280;
            white-space: nowrap;
        }

        /* Template Marketplace Styles */
        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 0.75rem;
        }

        .template-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .template-card:hover {
            border-colour: #3b82f6;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
            transform: translateY(-2px);
        }

        .template-preview {
            display: none;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .template-preview::before {
            display: none;
            height: 4px;
            background: #3b82f6;
            border-radius: 2px;
            opacity: 0.6;
        }
        
        .template-preview::after {
            display: none;
        }

        .template-title {
            font-weight: 600;
            colour: #1f2937;
            margin-bottom: 0.25rem;
            font-size: 14px;
        }

        .template-meta {
            font-size: 12px;
            colour: #6b7280;
            margin-bottom: 0.5rem;
        }

        .template-tags {
            display: flex;
            gap: 0.25rem;
            flex-wrap: wrap;
        }

        .template-tag {
            background: #eff6ff;
            colour: #1e40af;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 500;
        }


        /* Template Modal Styles */
        .template-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        /* Walkthrough Modal Styles */
        .walkthrough-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .walkthrough-content {
            background: white;
            border-radius: 12px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .walkthrough-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .walkthrough-header h2 {
            margin: 0;
            colour: #1f2937;
            font-size: 1.25rem;
            font-weight: 600;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            colour: #6b7280;
            cursor: pointer;
            padding: 0;
            width: 2rem;
            height: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: background-colour 0.2s;
        }

        .modal-close:hover {
            background: #f3f4f6;
            colour: #374151;
        }

        .walkthrough-body {
            padding: 1.5rem;
        }

        .walkthrough-step {
            margin-bottom: 2rem;
        }

        .walkthrough-step:last-child {
            margin-bottom: 0;
        }

        .walkthrough-step h3 {
            colour: #1f2937;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .walkthrough-step p {
            colour: #4b5563;
            line-height: 1.6;
            margin-bottom: 0.5rem;
        }

        .walkthrough-step ul {
            colour: #4b5563;
            line-height: 1.6;
            margin-left: 1rem;
        }

        .walkthrough-step li {
            margin-bottom: 0.25rem;
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-header h3 {
            margin: 0;
            colour: #1f2937;
            font-size: 1.25rem;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            colour: #6b7280;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
        }

        .modal-close:hover {
            background: #f3f4f6;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .modal-footer {
            padding: 1.5rem;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
    <!-- Beautiful SVG Icon Library -->
    <svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <!-- Palette Icon -->
            <symbol id="icon-palette" viewBox="0 0 24 24">
                <path d="M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.21-.64-1.67-.08-.09-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-5.51-4.49-10-10-10zM7.5 9C8.33 9 9 8.33 9 7.5S8.33 6 7.5 6 6 6.67 6 7.5 6.67 9 7.5 9zm2.5 4c-.83 0-1.5-.67-1.5-1.5S9.17 10 10 10s1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm2.5-6c-.83 0-1.5-.67-1.5-1.5S11.67 5 12.5 5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm2.5 4c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
            </symbol>
            
            <!-- Device Mobile Icon -->
            <symbol id="icon-device-mobile" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a1 1 0 001-1V4a1 1 0 00-1-1H8a1 1 0 00-1 1v16a1 1 0 001 1z"/>
            </symbol>
            
            <!-- Rocket Icon -->
            <symbol id="icon-rocket" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
            </symbol>
            
            <!-- Lightning Bolt Icon -->
            <symbol id="icon-lightning-bolt" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
            </symbol>
            
            <!-- Lightbulb Icon -->
            <symbol id="icon-lightbulb" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </symbol>
            
            <!-- Document Text Icon -->
            <symbol id="icon-document-text" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
            </symbol>
            
            <!-- Cog Icon -->
            <symbol id="icon-cog" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
            </symbol>
            
            <!-- Eye Icon -->
            <symbol id="icon-eye" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
            </symbol>
            
            <!-- Check Circle Icon -->
            <symbol id="icon-check-circle" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </symbol>
            
            <!-- Sparkles Icon -->
            <symbol id="icon-sparkles" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
            </symbol>
            
            <!-- Book Open Icon -->
            <symbol id="icon-book-open" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
            </symbol>
            
            <!-- Exclamation Triangle Icon -->
            <symbol id="icon-exclamation-triangle" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4.5c-.77-.833-2.694-.833-3.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"/>
            </symbol>
            
            <!-- Pencil Icon -->
            <symbol id="icon-pencil" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/>
            </symbol>
            
            <!-- Clipboard Icon -->
            <symbol id="icon-clipboard" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
            </symbol>
            
            <!-- Trash Icon -->
            <symbol id="icon-trash" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
            </symbol>
            
            <!-- Folder Icon -->
            <symbol id="icon-folder" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
            </symbol>
            
            <!-- Wrench Icon -->
            <symbol id="icon-wrench" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a1 1 0 01-1-1V9a1 1 0 011-1h1a2 2 0 100-4H4a1 1 0 01-1-1V4a1 1 0 011-1h3a1 1 0 011 1v1z"/>
            </symbol>
            
            <!-- Star Icon -->
            <symbol id="icon-star" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
            </symbol>

            <!-- Phone Icon -->
            <symbol id="icon-phone" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
            </symbol>

            <!-- Mail Icon -->
            <symbol id="icon-mail" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
            </symbol>

            <!-- Globe Icon -->
            <symbol id="icon-globe" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/>
            </symbol>
        </defs>
    </svg>

    <header class="header">
        <div class="header-content">
            <div class="logo">Design Generator Pro</div>
            <nav class="nav-tabs">
                <button class="nav-tab walkthrough" onclick="openWalkthroughModal()">
                    Walkthrough
                </button>
                <button class="nav-tab active" data-tab="design">
                    Design
                </button>
                <button class="nav-tab" data-tab="url-import">
                    URL Import
                </button>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="controls">
            <!-- Design Tab -->
            <div class="tab-content active" data-tab="design">
                <h1>Design Studio</h1>
                <p style="colour: #6b7280; margin-bottom: 24px; font-size: 14px;">Create professional designs with advanced customisation</p>


                <!-- Hidden design style - always use minimalist clean style -->
                <input type="hidden" id="designStyle" value="minimalist">
                
                <h2>Design Templates</h2>
                <p style="colour: #6b7280; margin-bottom: 24px; font-size: 14px;">Choose from professionally designed layouts and components</p>

                <!-- Page Layouts -->
                <div class="template-category">
                    <h3 class="template-category-title">Page Layouts</h3>
                    <p class="template-category-desc">Complete page structures for different purposes</p>
                    <div class="template-grid">
                        <div class="template-option active" data-template="hero" title="Bold hero section with large headings and call-to-action">
                            <div class="template-preview"></div>
                            <span class="template-name">Hero</span>
                            <span class="template-desc">Large banner with CTA</span>
                        </div>
                        <div class="template-option" data-template="centered" title="Clean centered layout perfect for focus content">
                            <div class="template-preview"></div>
                            <span class="template-name">Centred</span>
                            <span class="template-desc">Clean focused layout</span>
                        </div>
                        <div class="template-option" data-template="sidebar" title="Two-column layout with navigation sidebar">
                            <div class="template-preview"></div>
                            <span class="template-name">Sidebar</span>
                            <span class="template-desc">Two-column with nav</span>
                        </div>
                        <div class="template-option" data-template="grid" title="Multi-column grid layout for content display">
                            <div class="template-preview"></div>
                            <span class="template-name">Grid</span>
                            <span class="template-desc">Multi-column layout</span>
                        </div>
                        <div class="template-option" data-template="split" title="Split-screen design with image and content">
                            <div class="template-preview"></div>
                            <span class="template-name">Split</span>
                            <span class="template-desc">Half image, half content</span>
                        </div>
                        <div class="template-option" data-template="landing" title="Optimized landing page for conversions">
                            <div class="template-preview"></div>
                            <span class="template-name">Landing</span>
                            <span class="template-desc">Conversion focused</span>
                        </div>
                    </div>
                </div>

                <!-- Specialized Layouts -->  
                <div class="template-category">
                    <h3 class="template-category-title">Specialised Layouts</h3>
                    <p class="template-category-desc">Purpose-built designs for specific industries</p>
                    <div class="template-grid">
                        <div class="template-option" data-template="dashboard" title="Professional dashboard interface with data widgets">
                            <div class="template-preview"></div>
                            <span class="template-name">Dashboard</span>
                            <span class="template-desc">Admin interface</span>
                        </div>
                        <div class="template-option" data-template="portfolio" title="Creative portfolio showcase for designers and artists">
                            <div class="template-preview"></div>
                            <span class="template-name">Portfolio</span>
                            <span class="template-desc">Creative showcase</span>
                        </div>
                        <div class="template-option" data-template="blog" title="Modern blog layout with article previews">
                            <div class="template-preview"></div>
                            <span class="template-name">Blog</span>
                            <span class="template-desc">Article layout</span>
                        </div>
                        <div class="template-option" data-template="ecommerce" title="Product grid layout for online stores">
                            <div class="template-preview"></div>
                            <span class="template-name">E-commerce</span>
                            <span class="template-desc">Product showcase</span>
                        </div>
                        <div class="template-option" data-template="magazine" title="Editorial magazine-style layout">
                            <div class="template-preview"></div>
                            <span class="template-name">Magazine</span>
                            <span class="template-desc">Editorial style</span>
                        </div>
                        <div class="template-option" data-template="timeline" title="Chronological timeline layout for events">
                            <div class="template-preview"></div>
                            <span class="template-name">Timeline</span>
                            <span class="template-desc">Event chronology</span>
                        </div>
                    </div>
                </div>

                <!-- Interactive Components -->
                <div class="template-category">
                    <h3 class="template-category-title">Interactive Components</h3>
                    <p class="template-category-desc">Ready-to-use sections for any website</p>
                    <div class="template-grid">
                        <div class="template-option" data-template="pricing" title="Professional pricing table with plan comparison">
                            <div class="template-preview"></div>
                            <span class="template-name">Pricing Table</span>
                            <span class="template-desc">Plan comparison</span>
                        </div>
                        <div class="template-option" data-template="testimonials" title="Customer testimonials with star ratings">
                            <div class="template-preview"></div>
                            <span class="template-name">Testimonials</span>
                            <span class="template-desc">Customer reviews</span>
                        </div>
                        <div class="template-option" data-template="features" title="Feature grid highlighting key benefits">
                            <div class="template-preview"></div>
                            <span class="template-name">Features Grid</span>
                            <span class="template-desc">Key benefits</span>
                        </div>
                        <div class="template-option" data-template="contact" title="Professional contact form with validation">
                            <div class="template-preview"></div>
                            <span class="template-name">Contact Form</span>
                            <span class="template-desc">Get in touch</span>
                        </div>
                        <div class="template-option" data-template="team" title="Team member profiles with photos and roles">
                            <div class="template-preview"></div>
                            <span class="template-name">Team Members</span>
                            <span class="template-desc">Staff profiles</span>
                        </div>
                        <div class="template-option" data-template="gallery" title="Image gallery with responsive grid layout">
                            <div class="template-preview"></div>
                            <span class="template-name">Gallery</span>
                            <span class="template-desc">Image showcase</span>
                        </div>
                    </div>
                </div>

                <!-- Business Components -->
                <div class="template-category">
                    <h3 class="template-category-title">Business Components</h3>
                    <p class="template-category-desc">Professional elements for business websites</p>
                    <div class="template-grid">
                        <div class="template-option" data-template="stats" title="Key statistics and metrics display">
                            <div class="template-preview"></div>
                            <span class="template-name">Statistics</span>
                            <span class="template-desc">Key metrics</span>
                        </div>
                        <div class="template-option" data-template="comparison" title="Side-by-side feature comparison table">
                            <div class="template-preview"></div>
                            <span class="template-name">Comparison</span>
                            <span class="template-desc">Feature comparison</span>
                        </div>
                        <div class="template-option" data-template="cta" title="Call-to-action section to drive conversions">
                            <div class="template-preview"></div>
                            <span class="template-name">Call-to-Action</span>
                            <span class="template-desc">Drive conversions</span>
                        </div>
                        <div class="template-option" data-template="faq" title="Frequently asked questions section">
                            <div class="template-preview"></div>
                            <span class="template-name">FAQ Section</span>
                            <span class="template-desc">Common questions</span>
                        </div>
                    </div>
                </div>

                <h2>Layout Customisation</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label for="layoutDensity">Component Density</label>
                        <select id="layoutDensity">
                            <option value="compact">Compact - Tight spacing</option>
                            <option value="comfortable" selected>Comfortable - Balanced spacing</option>
                            <option value="spacious">Spacious - Generous spacing</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="containerWidth">Container Width</label>
                        <select id="containerWidth">
                            <option value="narrow">Narrow (960px)</option>
                            <option value="standard" selected>Standard (1200px)</option>
                            <option value="wide">Wide (1400px)</option>
                            <option value="full">Full Width</option>
                        </select>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label for="borderRadius">Border Radius</label>
                        <select id="borderRadius">
                            <option value="none">Sharp (0px)</option>
                            <option value="small">Small (4px)</option>
                            <option value="medium" selected>Medium (8px)</option>
                            <option value="large">Large (16px)</option>
                            <option value="full">Rounded (24px)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="shadowIntensity">Shadow Depth</label>
                        <select id="shadowIntensity">
                            <option value="none">No Shadow</option>
                            <option value="subtle" selected>Subtle</option>
                            <option value="medium">Medium</option>
                            <option value="strong">Strong</option>
                            <option value="dramatic">Dramatic</option>
                        </select>
                    </div>
                </div>

                <h2>Content</h2>
                <div class="form-group">
                    <label for="siteTitle">Site Title</label>
                    <input type="text" id="siteTitle" value="Your Brand" placeholder="Enter site title">
                </div>

                <div class="form-group">
                    <label for="siteSubtitle">Subtitle</label>
                    <input type="text" id="siteSubtitle" value="Creating beautiful experiences" placeholder="Enter subtitle">
                </div>

                <div class="form-group">
                    <label for="navLinks">Navigation Links (one per line)</label>
                    <textarea id="navLinks" placeholder="Home&#10;About&#10;Services&#10;Contact">Home
About
Services
Contact</textarea>
                </div>

                <div class="form-group">
                    <label for="mainContent">Main Content</label>
                    <textarea id="mainContent" placeholder="Enter your main content">Welcome to our professional homepage. We create modern, responsive designs that focus on user experience and conversion.</textarea>
                </div>

                <h2>Styling</h2>
                <div class="form-group">
                    <label for="colourScheme">Colour Scheme</label>
                    <select id="colourScheme">
                        <option value="blue">Blue</option>
                        <option value="monochrome">Grey</option>
                        <option value="green">Green</option>
                        <option value="purple">Purple</option>
                        <option value="orange">Orange</option>
                        <option value="dark">Dark</option>
                        <option value="colourblind">Colourblind Friendly</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="fontFamily">Typography</label>
                    <select id="fontFamily">
                        <option value="sans">Modern Sans</option>
                        <option value="serif">Classic Serif</option>
                        <option value="mono">Developer Mono</option>
                        <option value="display">Display Font</option>
                    </select>
                </div>


                <div class="form-group">
                    <label for="brandColorExtractor">Brand Colours</label>
                    <div class="brand-colour-tools">
                        
                        <!-- Logo Extraction Section -->
                        <div class="colour-section">
                            <div class="section-header" onclick="toggleSection('logoSection')">
                                <h4 class="colour-section-title">Extract from Logo <span class="toggle-icon">▼</span></h4>
                                <div class="tooltip">Upload a logo to automatically extract brand colours</div>
                            </div>
                            <div id="logoSection" class="collapsible-section">
                                <input type="file" id="logoUpload" accept="image/*" style="display: none;">
                                <button class="btn-secondary" onclick="document.getElementById('logoUpload').click()" style="width: 100%; margin-bottom: 12px; height: 44px; font-weight: 500;">
                                    Extract Colours from Logo
                                </button>
                                <div id="logoPreview" style="display: none; margin-bottom: 12px; text-align: center;">
                                    <img id="logoImage" style="max-width: 100%; max-height: 80px; border-radius: 6px; border: 1px solid #d1d5db;">
                                </div>
                                <div id="extractedColors" class="extracted-colours-container">
                                    <div class="extraction-info" id="extractionInfo" style="display: none; margin-bottom: 12px; font-size: 12px; colour: #6b7280;"></div>
                                    <div class="extracted-palette" id="colourPalette"></div>
                                    <button class="btn-primary" onclick="applyExtractedColors()" style="width: 100%; margin-top: 12px; height: 40px; font-weight: 500; display: none;" id="applyExtractedBtn">
                                        Apply Selected Colours
                                    </button>
                                </div>
                                <div id="logoLoadingState" style="display: none; text-align: center; padding: 20px; colour: #6b7280;">
                                    <div class="loading-spinner"></div>
                                    <div style="margin-top: 8px;">Extracting colours...</div>
                                </div>
                            </div>
                        </div>

                        <!-- Custom Colours Section -->
                        <div class="colour-section">
                            <div class="section-header" onclick="toggleSection('customSection')">
                                <h4 class="colour-section-title">Custom Colours <span class="toggle-icon">▼</span></h4>
                                <div class="tooltip">Manually select your brand colours</div>
                            </div>
                            <div id="customSection" class="collapsible-section">
                                <div class="colour-input-group">
                                    <label for="customPrimary" class="colour-input-label">Primary Colour</label>
                                    <div class="colour-input-wrapper">
                                        <input type="colour" id="customPrimary" value="#3b82f6" class="colour-picker" oninput="updateColourPreview('primary', this.value)">
                                        <input type="text" id="primaryHex" value="#3b82f6" class="hex-input" oninput="updateColourFromHex('primary', this.value)" maxlength="7">
                                        <div class="contrast-indicator" id="primaryContrast"></div>
                                    </div>
                                </div>
                                <div class="colour-input-group">
                                    <label for="customSecondary" class="colour-input-label">Secondary Colour</label>
                                    <div class="colour-input-wrapper">
                                        <input type="colour" id="customSecondary" value="#8b5cf6" class="colour-picker" oninput="updateColourPreview('secondary', this.value)">
                                        <input type="text" id="secondaryHex" value="#8b5cf6" class="hex-input" oninput="updateColourFromHex('secondary', this.value)" maxlength="7">
                                        <div class="contrast-indicator" id="secondaryContrast"></div>
                                    </div>
                                </div>
                                <div class="colour-tools">
                                    <button class="btn-small" onclick="generateHarmony()">Generate Harmony</button>
                                    <button class="btn-small" onclick="adjustBrightness(10)">Brighter</button>
                                    <button class="btn-small" onclick="adjustBrightness(-10)">Darker</button>
                                </div>
                            </div>
                        </div>

                        <!-- Colour Presets Section -->
                        <div class="colour-section">
                            <div class="section-header" onclick="toggleSection('presetsSection')">
                                <h4 class="colour-section-title">Colour Presets <span class="toggle-icon">▼</span></h4>
                                <div class="tooltip">Quick access to popular colour schemes</div>
                            </div>
                            <div id="presetsSection" class="collapsible-section collapsed">
                                <div class="presets-grid" id="presetsGrid">
                                    <!-- Presets will be populated by JavaScript -->
                                </div>
                                <div class="section-divider"></div>
                                <div class="colour-history" id="colourHistory">
                                    <h5 style="font-size: 12px; colour: #6b7280; margin-bottom: 8px;">Recent Colours</h5>
                                    <div class="history-swatches" id="historySwatches"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Success/Error Messages -->
                        <div id="colourMessage" class="colour-message" style="display: none;"></div>
                        
                    </div>
                </div>
            </div>

            <!-- URL Import Tab -->
            <div class="tab-content" data-tab="url-import">
                <h1>URL Import & Analysis</h1>
                <p style="colour: #6b7280; margin-bottom: 24px; font-size: 14px;">Import and analyse existing websites for design inspiration</p>

                <h2>Website URL</h2>
                <div class="form-group">
                    <label for="websiteUrl">Enter URL to analyse</label>
                    <input type="url" id="websiteUrl" placeholder="https://example.com" style="margin-bottom: 8px;">
                    <button class="btn-primary" onclick="processURL()" style="width: 100%;" id="processUrlBtn">
                        Analyse Website
                    </button>
                </div>

                <div id="urlAnalysisLoading" style="display: none; text-align: center; padding: 2rem; colour: #6b7280;">
                    <div style="font-size: 2rem; margin-bottom: 1rem;">⏳</div>
                    <div>Analyzing website...</div>
                    <div style="font-size: 0.875rem; margin-top: 0.5rem;">This may take a few seconds</div>
                </div>

                <div id="urlAnalysisResults" style="display: none;">
                    <h2>Analysis Results</h2>
                    
                    <div class="form-group">
                        <label>Extracted Website Information</label>
                        <div id="extractedInfo" style="background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1rem; margin-bottom: 1rem;">
                            <!-- Extracted site info will appear here -->
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Colour Palette</label>
                        <div id="extractedColorPalette" style="display: flex; gap: 8px; margin-bottom: 1rem; flex-wrap: wrap;">
                            <!-- Extracted colours will appear here -->
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Suggested Design Style</label>
                        <div id="suggestedStyle" style="background: #eff6ff; border: 1px solid #bfdbfe; border-radius: 8px; padding: 1rem; margin-bottom: 1rem;">
                            <!-- Style suggestions will appear here -->
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Content Extraction</label>
                        <div id="extractedContent" style="background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 8px; padding: 1rem; margin-bottom: 1rem; max-height: 200px; overflow-y: auto;">
                            <!-- Extracted content will appear here -->
                        </div>
                    </div>

                    <div class="button-group" style="margin-top: 1.5rem;">
                        <button class="btn-secondary" onclick="showComparison()" style="flex: 1;">
                            <span class="icon-text">
                                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <use href="#icon-eye"></use>
                                </svg>
                                Preview Comparison
                            </span>
                        </button>
                        <button class="btn-primary" onclick="applyAnalysisResults()" style="flex: 1;">
                            <span class="icon-text">
                                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <use href="#icon-sparkles"></use>
                                </svg>
                                Apply to Design
                            </span>
                        </button>
                    </div>
                </div>

                <div id="comparisonView" style="display: none; margin-top: 2rem;">
                    <h2>Before vs After Comparison</h2>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                        <div>
                            <h3 style="font-size: 1rem; margin-bottom: 0.5rem; colour: #374151;">Original Website</h3>
                            <div id="originalPreview" style="border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; background: #f9fafb; min-height: 200px; font-size: 0.875rem; colour: #6b7280;">
                                Original website preview will appear here
                            </div>
                        </div>
                        <div>
                            <h3 style="font-size: 1rem; margin-bottom: 0.5rem; colour: #374151;">New Design</h3>
                            <div id="newDesignPreview" style="border: 1px solid #d1d5db; border-radius: 8px; padding: 1rem; background: #f9fafb; min-height: 200px; font-size: 0.875rem; colour: #6b7280;">
                                New design preview will appear here
                            </div>
                        </div>
                    </div>
                </div>

                <div style="background: #fef3c7; border: 1px solid #fbbf24; border-radius: 8px; padding: 1rem; margin-top: 1.5rem;">
                    <h3 style="colour: #92400e; margin-bottom: 0.5rem; font-size: 1rem;">
                        <svg class="icon icon-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="vertical-align: -0.1em;">
                            <use href="#icon-lightbulb"></use>
                        </svg>
                        How it works
                    </h3>
                    <ul style="colour: #92400e; font-size: 0.875rem; margin: 0; padding-left: 1.5rem;">
                        <li>Enter any website URL to analyse its design and content</li>
                        <li>Extract colours, fonts, layout patterns, and content structure</li>
                        <li>Get AI-powered design style recommendations</li>
                        <li>Apply extracted elements to your new design</li>
                        <li>Preview before/after comparison of improvements</li>
                    </ul>
                </div>
            </div>







            <div class="button-group">
                <button type="button" class="btn-secondary" onclick="resetForm()">Reset</button>
                <button type="button" class="btn-secondary" onclick="generateClaudeCodePrompt()" style="background: #10b981; colour: white;">Copy Claude Prompt</button>
                <button type="button" class="btn-primary" onclick="downloadHTML()">Quick Export</button>
            </div>

            <h2>Claude Code Prompt Preview</h2>
            <div style="background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 1.5rem; margin-bottom: 2rem;">
                <div id="claudePromptPreview" style="font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; font-size: 0.9rem; line-height: 1.5; colour: #374151; white-space: pre-wrap; max-height: 300px; overflow-y: auto;">
                    <!-- Claude prompt preview will appear here -->
                </div>
            </div>
        </div>

        <div class="preview-section">
            <div class="preview-controls">
                <div class="device-selector">
                    <button class="device-btn active" data-device="desktop">Desktop</button>
                    <button class="device-btn" data-device="tablet">Tablet</button>
                    <button class="device-btn" data-device="mobile">Mobile</button>
                </div>
                <span style="font-size: 12px; colour: #6b7280;">Live Preview</span>
            </div>

            <div class="preview desktop" id="preview">
                <div class="preview-header">
                    <div class="preview-dots">
                        <div class="preview-dot"></div>
                        <div class="preview-dot"></div>
                        <div class="preview-dot"></div>
                    </div>
                    <span style="font-size: 12px; colour: #6b7280; margin-left: 8px;">Preview</span>
                </div>
                <div class="preview-frame" id="previewFrame">
                    <!-- Generated preview will appear here -->
                </div>
                <div class="canvas-area" id="canvasArea" style="display: none;">
                    <div class="drop-zone" id="dropZone">
                        <span>Drag components here to build your page</span>
                    </div>
                    <div id="canvasComponents">
                        <!-- Dropped components will appear here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/templates.js"></script>
    <script src="assets/components.js"></script>
    <script src="assets/design-tokens.js"></script>
    <script src="assets/exporters.js"></script>
    <script src="assets/ai-content.js"></script>
    <script src="assets/accessibility.js"></script>
    <script src="assets/animations.js"></script>
    <script src="assets/content-extractor.js"></script>
    <script src="assets/style-analyser.js"></script>
    <script src="assets/url-processor.js"></script>
    <script src="assets/claude-integration.js"></script>
    <script src="assets/pa-media-templates.js"></script>
    <script src="assets/app.js"></script>
    
    <script>
        // Global helper functions
        function switchToTab(tabName) {
            if (window.designGenerator) {
                window.designGenerator.switchTab(tabName);
            }
        }

        // Enhanced Colour System Variables
        let colourHistory = JSON.parse(localStorage.getItem('colourHistory') || '[]');
        let favouriteColours = JSON.parse(localStorage.getItem('favouriteColours') || '[]');
        
        // Colour Presets
        const colourPresets = [
            { name: 'Material Blue', primary: '#2196F3', secondary: '#03A9F4' },
            { name: 'Material Purple', primary: '#9C27B0', secondary: '#673AB7' },
            { name: 'Material Teal', primary: '#009688', secondary: '#00BCD4' },
            { name: 'Material Orange', primary: '#FF9800', secondary: '#FF5722' },
            { name: 'Tailwind Blue', primary: '#3B82F6', secondary: '#1D4ED8' },
            { name: 'Tailwind Emerald', primary: '#10B981', secondary: '#059669' },
            { name: 'Tailwind Rose', primary: '#F43F5E', secondary: '#E11D48' },
            { name: 'Tailwind Violet', primary: '#8B5CF6', secondary: '#7C3AED' },
            { name: 'Corporate Blue', primary: '#1E3A8A', secondary: '#3B82F6' },
            { name: 'Forest Green', primary: '#047857', secondary: '#10B981' },
            { name: 'Sunset Orange', primary: '#EA580C', secondary: '#F97316' },
            { name: 'Royal Purple', primary: '#6B21A8', secondary: '#A855F7' }
        ];

        // Enhanced Colour Functions
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const header = section.previousElementSibling;
            
            if (section.classList.contains('collapsed')) {
                section.classList.remove('collapsed');
                header.classList.remove('collapsed');
            } else {
                section.classList.add('collapsed');
                header.classList.add('collapsed');
            }
        }

        function updateColourPreview(type, colour) {
            // Real-time preview update
            if (window.designGenerator && window.designGenerator.updatePreview) {
                const data = window.designGenerator.getCurrentData();
                if (type === 'primary') {
                    data.primaryColor = colour;
                    document.getElementById('primaryHex').value = colour;
                } else if (type === 'secondary') {
                    data.secondaryColor = colour;
                    document.getElementById('secondaryHex').value = colour;
                }
                window.designGenerator.updatePreview();
            }
            
            // Update contrast indicators
            updateContrastIndicator(type, colour);
            
            // Add to history
            addToColourHistory(colour);
        }

        function updateColourFromHex(type, hexValue) {
            if (hexValue.match(/^#[0-9A-F]{6}$/i)) {
                const colourInput = document.getElementById(type === 'primary' ? 'customPrimary' : 'customSecondary');
                colourInput.value = hexValue;
                updateColourPreview(type, hexValue);
            }
        }

        function updateContrastIndicator(type, colour) {
            const indicator = document.getElementById(type + 'Contrast');
            const contrastRatio = getContrastRatio(colour, '#FFFFFF');
            
            indicator.classList.remove('good', 'warning', 'poor');
            
            if (contrastRatio >= 7) {
                indicator.classList.add('good');
                indicator.textContent = 'AAA';
                indicator.title = `Contrast ratio: ${contrastRatio.toFixed(1)}:1 (Excellent)`;
            } else if (contrastRatio >= 4.5) {
                indicator.classList.add('warning');
                indicator.textContent = 'AA';
                indicator.title = `Contrast ratio: ${contrastRatio.toFixed(1)}:1 (Good)`;
            } else {
                indicator.classList.add('poor');
                indicator.textContent = 'FAIL';
                indicator.title = `Contrast ratio: ${contrastRatio.toFixed(1)}:1 (Poor accessibility)`;
            }
        }

        function getContrastRatio(colour1, colour2) {
            const l1 = getLuminance(colour1);
            const l2 = getLuminance(colour2);
            const lighter = Math.max(l1, l2);
            const darker = Math.min(l1, l2);
            return (lighter + 0.05) / (darker + 0.05);
        }

        function getLuminance(hex) {
            const rgb = hexToRgb(hex);
            const [r, g, b] = [rgb.r, rgb.g, rgb.b].map(c => {
                c = c / 255;
                return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
            });
            return 0.2126 * r + 0.7152 * g + 0.0722 * b;
        }

        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        function generateHarmony() {
            const primaryColour = document.getElementById('customPrimary').value;
            const hsl = hexToHsl(primaryColour);
            
            // Generate complementary colour
            const complementaryHue = (hsl.h + 180) % 360;
            const complementaryColour = hslToHex(complementaryHue, hsl.s, hsl.l);
            
            document.getElementById('customSecondary').value = complementaryColour;
            document.getElementById('secondaryHex').value = complementaryColour;
            updateColourPreview('secondary', complementaryColour);
            
            showColourMessage('Generated complementary colour scheme!', 'success');
        }

        function adjustBrightness(adjustment) {
            const primaryColour = document.getElementById('customPrimary').value;
            const secondaryColour = document.getElementById('customSecondary').value;
            
            const newPrimary = adjustColourBrightness(primaryColour, adjustment);
            const newSecondary = adjustColourBrightness(secondaryColour, adjustment);
            
            document.getElementById('customPrimary').value = newPrimary;
            document.getElementById('primaryHex').value = newPrimary;
            document.getElementById('customSecondary').value = newSecondary;
            document.getElementById('secondaryHex').value = newSecondary;
            
            updateColourPreview('primary', newPrimary);
            updateColourPreview('secondary', newSecondary);
            
            showColourMessage(`Adjusted brightness by ${adjustment > 0 ? '+' : ''}${adjustment}%`, 'success');
        }

        function adjustColourBrightness(hex, percent) {
            const rgb = hexToRgb(hex);
            const factor = percent / 100;
            
            const newR = Math.min(255, Math.max(0, rgb.r + (rgb.r * factor)));
            const newG = Math.min(255, Math.max(0, rgb.g + (rgb.g * factor)));
            const newB = Math.min(255, Math.max(0, rgb.b + (rgb.b * factor)));
            
            return rgbToHex(Math.round(newR), Math.round(newG), Math.round(newB));
        }

        function hexToHsl(hex) {
            const rgb = hexToRgb(hex);
            const r = rgb.r / 255;
            const g = rgb.g / 255;
            const b = rgb.b / 255;
            
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;
            
            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }
            
            return { h: h * 360, s: s * 100, l: l * 100 };
        }

        function hslToHex(h, s, l) {
            h = h / 360;
            s = s / 100;
            l = l / 100;
            
            const hue2rgb = (p, q, t) => {
                if (t < 0) t += 1;
                if (t > 1) t -= 1;
                if (t < 1/6) return p + (q - p) * 6 * t;
                if (t < 1/2) return q;
                if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                return p;
            };
            
            let r, g, b;
            if (s === 0) {
                r = g = b = l;
            } else {
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }
            
            return rgbToHex(Math.round(r * 255), Math.round(g * 255), Math.round(b * 255));
        }

        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
        }

        function addToColourHistory(colour) {
            if (!colourHistory.includes(colour)) {
                colourHistory.unshift(colour);
                if (colourHistory.length > 12) {
                    colourHistory.pop();
                }
                localStorage.setItem('colourHistory', JSON.stringify(colourHistory));
                updateHistoryDisplay();
            }
        }

        function updateHistoryDisplay() {
            const container = document.getElementById('historySwatches');
            container.innerHTML = '';
            
            colourHistory.forEach(colour => {
                const swatch = document.createElement('div');
                swatch.className = 'history-swatch';
                swatch.style.backgroundColor = colour;
                swatch.title = colour;
                swatch.onclick = () => applyHistoryColour(colour);
                
                if (favouriteColours.includes(colour)) {
                    const star = document.createElement('div');
                    star.className = 'favourite-star';
                    star.textContent = '★';
                    swatch.appendChild(star);
                }
                
                container.appendChild(swatch);
            });
        }

        function applyHistoryColour(colour) {
            document.getElementById('customPrimary').value = colour;
            document.getElementById('primaryHex').value = colour;
            updateColourPreview('primary', colour);
            showColourMessage('Applied colour from history!', 'success');
        }

        function applyPreset(preset) {
            document.getElementById('customPrimary').value = preset.primary;
            document.getElementById('primaryHex').value = preset.primary;
            document.getElementById('customSecondary').value = preset.secondary;
            document.getElementById('secondaryHex').value = preset.secondary;
            
            updateColourPreview('primary', preset.primary);
            updateColourPreview('secondary', preset.secondary);
            
            showColourMessage(`Applied ${preset.name} preset!`, 'success');
        }

        function showColourMessage(message, type) {
            const messageEl = document.getElementById('colourMessage');
            messageEl.textContent = message;
            messageEl.className = `colour-message ${type}`;
            messageEl.style.display = 'block';
            
            setTimeout(() => {
                messageEl.style.display = 'none';
            }, 3000);
        }

        function initializeColourSystem() {
            // Initialize presets
            const presetsGrid = document.getElementById('presetsGrid');
            colourPresets.forEach(preset => {
                const presetEl = document.createElement('div');
                presetEl.className = 'preset-item';
                presetEl.onclick = () => applyPreset(preset);
                
                presetEl.innerHTML = `
                    <div class="preset-colours">
                        <div class="preset-swatch" style="background-color: ${preset.primary}"></div>
                        <div class="preset-swatch" style="background-color: ${preset.secondary}"></div>
                    </div>
                    <div class="preset-name">${preset.name}</div>
                `;
                
                presetsGrid.appendChild(presetEl);
            });
            
            // Initialize history
            updateHistoryDisplay();
            
            // Initialize contrast indicators
            updateContrastIndicator('primary', '#3b82f6');
            updateContrastIndicator('secondary', '#8b5cf6');
            
            // Enhanced logo upload handler
            document.getElementById('logoUpload').addEventListener('change', handleLogoUpload);
        }

        function handleLogoUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // Show loading state
            document.getElementById('logoLoadingState').style.display = 'block';
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = new Image();
                img.onload = function() {
                    // Show logo preview
                    const logoImage = document.getElementById('logoImage');
                    logoImage.src = e.target.result;
                    document.getElementById('logoPreview').style.display = 'block';
                    
                    // Extract colours
                    extractColoursFromImage(img);
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }

        function extractColoursFromImage(img) {
            // Create canvas for colour extraction
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = img.width;
            canvas.height = img.height;
            ctx.drawImage(img, 0, 0);
            
            // Get image data
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imageData.data;
            
            // Extract colours
            const colourMap = new Map();
            for (let i = 0; i < data.length; i += 4) {
                const r = data[i];
                const g = data[i + 1];
                const b = data[i + 2];
                const alpha = data[i + 3];
                
                if (alpha > 128) { // Skip transparent pixels
                    const hex = rgbToHex(r, g, b);
                    colourMap.set(hex, (colourMap.get(hex) || 0) + 1);
                }
            }
            
            // Sort by frequency and get top colours
            const sortedColours = Array.from(colourMap.entries())
                .sort((a, b) => b[1] - a[1])
                .slice(0, 8)
                .map(([colour, count]) => ({ colour, count }));
            
            displayExtractedColours(sortedColours);
            
            // Hide loading state
            document.getElementById('logoLoadingState').style.display = 'none';
        }

        function displayExtractedColours(colours) {
            const palette = document.getElementById('colourPalette');
            const info = document.getElementById('extractionInfo');
            const container = document.getElementById('extractedColors');
            const applyBtn = document.getElementById('applyExtractedBtn');
            
            palette.innerHTML = '';
            
            colours.forEach(({ colour, count }, index) => {
                const swatch = document.createElement('div');
                swatch.className = 'colour-swatch extracted-swatch';
                swatch.style.backgroundColor = colour;
                swatch.title = `${colour} (${count} pixels)`;
                swatch.dataset.colour = colour;
                swatch.dataset.selected = 'false';
                
                swatch.onclick = () => {
                    swatch.dataset.selected = swatch.dataset.selected === 'true' ? 'false' : 'true';
                    swatch.style.border = swatch.dataset.selected === 'true' ? '3px solid #3b82f6' : '2px solid #e5e7eb';
                };
                
                // Auto-select first two colours
                if (index < 2) {
                    swatch.dataset.selected = 'true';
                    swatch.style.border = '3px solid #3b82f6';
                }
                
                palette.appendChild(swatch);
            });
            
            info.textContent = `Extracted ${colours.length} dominant colours`;
            info.style.display = 'block';
            container.style.display = 'block';
            applyBtn.style.display = 'block';
        }

        function applyExtractedColors() {
            const selectedSwatches = document.querySelectorAll('.extracted-swatch[data-selected="true"]');
            if (selectedSwatches.length >= 1) {
                const primaryColour = selectedSwatches[0].dataset.colour;
                const secondaryColour = selectedSwatches.length > 1 ? selectedSwatches[1].dataset.colour : primaryColour;
                
                document.getElementById('customPrimary').value = primaryColour;
                document.getElementById('primaryHex').value = primaryColour;
                document.getElementById('customSecondary').value = secondaryColour;
                document.getElementById('secondaryHex').value = secondaryColour;
                
                updateColourPreview('primary', primaryColour);
                updateColourPreview('secondary', secondaryColour);
                
                showColourMessage('Applied extracted colours!', 'success');
            } else {
                showColourMessage('Please select at least one colour.', 'error');
            }
        }

        // Legacy function for compatibility
        function applyCustomColors() {
            const primary = document.getElementById('customPrimary').value;
            const secondary = document.getElementById('customSecondary').value;
            updateColourPreview('primary', primary);
            updateColourPreview('secondary', secondary);
            showColourMessage('Custom colours applied!', 'success');
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeColourSystem();
        });

        
        // PA Media Template Generators
        function generatePAWebsiteTemplate() {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PA Media - Professional Website Template</title>
    <style>
        :root {
            --pa-primary: #825FFF;
            --pa-secondary: #3D3677;
            --pa-accent: #A855F7;
            --pa-text: #1F2937;
            --pa-light: #F8FAFC;
            --pa-white: #FFFFFF;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            colour: var(--pa-text);
        }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 0 2rem; }
        
        header {
            background: linear-gradient(135deg, var(--pa-primary) 0%, var(--pa-secondary) 100%);
            colour: var(--pa-white);
            padding: 2rem 0;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 2rem;
            font-weight: bold;
            colour: var(--pa-white);
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        
        nav a {
            colour: var(--pa-white);
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.3s;
        }
        
        nav a:hover { opacity: 0.8; }
        
        .hero {
            background: var(--pa-light);
            padding: 4rem 0;
            text-align: center;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            colour: var(--pa-primary);
        }
        
        .hero p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            colour: var(--pa-secondary);
        }
        
        .btn {
            background: var(--pa-primary);
            colour: var(--pa-white);
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(130, 95, 255, 0.3);
        }
        
        .features {
            padding: 4rem 0;
            background: var(--pa-white);
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .feature {
            text-align: center;
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid #E5E7EB;
        }
        
        .feature h3 {
            colour: var(--pa-primary);
            margin-bottom: 1rem;
        }
        
        footer {
            background: var(--pa-secondary);
            colour: var(--pa-white);
            padding: 2rem 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <svg width="120" height="32" viewBox="0 0 120 32" xmlns="http://www.w3.org/2000/svg">
                        <text x="0" y="24" font-family="greycliff-cf, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="24" font-weight="700" fill="rgb(130, 95, 255)">PA Media</text>
                    </svg>
                </div>
                <nav>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#services">Services</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    
    <section class="hero">
        <div class="container">
            <h1>Professional Media Solutions</h1>
            <p>Delivering exceptional content and communication services</p>
            <button class="btn">Get Started</button>
        </div>
    </section>
    
    <section class="features">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 1rem; colour: var(--pa-primary);">Our Services</h2>
            <div class="features-grid">
                <div class="feature">
                    <h3>Content Creation</h3>
                    <p>Professional content development and editorial services</p>
                </div>
                <div class="feature">
                    <h3>Media Distribution</h3>
                    <p>Wide-reaching distribution across multiple platforms</p>
                </div>
                <div class="feature">
                    <h3>Digital Solutions</h3>
                    <p>Cutting-edge digital media and technology solutions</p>
                </div>
            </div>
        </div>
    </section>
    
    <footer>
        <div class="container">
            <p>&copy; 2024 PA Media Group. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>`;
        }
        
        function generatePAPresentationTemplate() {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PA Media - Presentation Templates</title>
    <style>
        :root {
            --pa-primary: #825FFF;
            --pa-secondary: #3D3677;
            --pa-white: #FFFFFF;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 2rem;
            background: #F8FAFC;
        }
        
        .slide {
            width: 1920px;
            height: 1080px;
            background: var(--pa-white);
            margin: 2rem auto;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .slide-header {
            background: linear-gradient(135deg, var(--pa-primary) 0%, var(--pa-secondary) 100%);
            colour: var(--pa-white);
            padding: 3rem;
            text-align: center;
        }
        
        .slide-title {
            font-size: 4rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        
        .slide-subtitle {
            font-size: 2rem;
            opacity: 0.9;
        }
        
        .slide-content {
            flex: 1;
            padding: 4rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            width: 100%;
        }
        
        .slide-footer {
            background: var(--pa-secondary);
            colour: var(--pa-white);
            padding: 2rem;
            text-align: center;
        }
        
        h1, h2, h3 { colour: var(--pa-primary); }
        
        .logo {
            font-size: 2rem;
            font-weight: bold;
            colour: var(--pa-primary);
        }
    </style>
</head>
<body>
    <div class="slide">
        <div class="slide-header">
            <div class="slide-title">
                <svg width="120" height="32" viewBox="0 0 120 32" xmlns="http://www.w3.org/2000/svg">
                    <text x="0" y="24" font-family="greycliff-cf, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="24" font-weight="700" fill="rgb(130, 95, 255)">PA Media</text>
                </svg>
            </div>
            <div class="slide-subtitle">Professional Presentation Template</div>
        </div>
        <div class="slide-content">
            <div class="content-grid">
                <div>
                    <h2>Title Slide</h2>
                    <p>Use this template for professional presentations with PA Media branding.</p>
                </div>
                <div>
                    <h3>Features</h3>
                    <ul>
                        <li>Consistent branding</li>
                        <li>Professional layout</li>
                        <li>Ready for customisation</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="slide-footer">
            PA Media Group - Professional Communication Solutions
        </div>
    </div>
    
    <div class="slide">
        <div style="padding: 4rem; text-align: center;">
            <div class="logo">
                <svg width="120" height="32" viewBox="0 0 120 32" xmlns="http://www.w3.org/2000/svg">
                    <text x="0" y="24" font-family="greycliff-cf, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="24" font-weight="700" fill="rgb(130, 95, 255)">PA Media</text>
                </svg>
            </div>
            <h1 style="margin: 2rem 0;">Content Slide Template</h1>
            <div class="content-grid">
                <div>
                    <h3>Key Points</h3>
                    <ul style="text-align: left; font-size: 1.5rem; line-height: 2;">
                        <li>Professional design</li>
                        <li>Brand consistency</li>
                        <li>Easy customisation</li>
                        <li>Multiple layouts</li>
                    </ul>
                </div>
                <div>
                    <h3>Benefits</h3>
                    <p style="font-size: 1.5rem; line-height: 1.8;">This template provides a professional foundation for all PA Media presentations, ensuring brand consistency and visual appeal.</p>
                </div>
            </div>
        </div>
        <div class="slide-footer">
            © 2024 PA Media Group
        </div>
    </div>
</body>
</html>`;
        }
        
        function generatePADigitalAssets() {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PA Media - Digital Assets Collection</title>
    <style>
        :root {
            --pa-primary: #825FFF;
            --pa-secondary: #3D3677;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 2rem;
            background: #F8FAFC;
        }
        
        .asset-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .asset {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }
        
        .teams-bg {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, var(--pa-primary) 0%, var(--pa-secondary) 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            colour: white;
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        
        .social-template {
            width: 100%;
            height: 300px;
            background: var(--pa-primary);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            colour: white;
            text-align: center;
            margin-bottom: 1rem;
        }
        
        h1 { colour: var(--pa-primary); text-align: center; }
        h2 { colour: var(--pa-primary); }
    </style>
</head>
<body>
    <h1>PA Media Digital Assets Collection</h1>
    
    <div class="asset-grid">
        <div class="asset">
            <h2>Teams Background #1</h2>
            <div class="teams-bg">PA Media</div>
            <p><strong>Dimensions:</strong> 1920x1080 (16:9)</p>
            <p><strong>Format:</strong> Use as virtual background in Microsoft Teams</p>
            <p><strong>Description:</strong> Professional gradient background with PA Media branding</p>
        </div>
        
        <div class="asset">
            <h2>Teams Background #2</h2>
            <div class="teams-bg" style="background: var(--pa-secondary);">Professional</div>
            <p><strong>Dimensions:</strong> 1920x1080 (16:9)</p>
            <p><strong>Format:</strong> Use as virtual background in Microsoft Teams</p>
            <p><strong>Description:</strong> Solid colour background with professional styling</p>
        </div>
        
        <div class="asset">
            <h2>Social Media Template</h2>
            <div class="social-template">
                <h3 style="margin: 0;">PA Media</h3>
                <p style="margin: 1rem 0;">Professional Communication</p>
                <div style="font-size: 0.9rem; opacity: 0.9;">#PAMedia #Professional</div>
            </div>
            <p><strong>Dimensions:</strong> 1080x1080 (Square)</p>
            <p><strong>Format:</strong> Perfect for Instagram, LinkedIn, Facebook posts</p>
        </div>
        
        <div class="asset">
            <h2>Email Signature</h2>
            <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; font-size: 0.9rem;">
                <div style="colour: var(--pa-primary); font-weight: bold; margin-bottom: 0.5rem;">John Smith</div>
                <div style="colour: var(--pa-secondary);">Senior Manager</div>
                <div style="colour: var(--pa-primary); font-weight: bold; margin-top: 0.5rem;">PA Media Group</div>
                <div style="font-size: 0.8rem; colour: #666; margin-top: 0.5rem;">
                    <svg class="icon icon-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24"><use href="#icon-mail"></use></svg> john.smith@pamedia.com<br>
                    <svg class="icon icon-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24"><use href="#icon-phone"></use></svg> +44 123 456 7890<br>
                    <svg class="icon icon-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24"><use href="#icon-globe"></use></svg> www.pamedia.com
                </div>
            </div>
            <p><strong>Format:</strong> HTML email signature template</p>
            <p><strong>Description:</strong> Professional email signature with PA Media branding</p>
        </div>
    </div>
    
    <div style="background: white; padding: 2rem; border-radius: 12px; margin-top: 2rem; text-align: center;">
        <h2>Usage Instructions</h2>
        <p>These digital assets are designed for PA Media Group's professional communications. Use them to maintain brand consistency across all digital platforms.</p>
        <ul style="text-align: left; max-width: 600px; margin: 1rem auto;">
            <li><strong>Teams Backgrounds:</strong> Download and add to Microsoft Teams virtual backgrounds</li>
            <li><strong>Social Media:</strong> Customise text and use for professional social media posts</li>
            <li><strong>Email Signatures:</strong> Copy HTML code and paste into email client signature settings</li>
        </ul>
    </div>
</body>
</html>`;
        }
        
        function generatePABrandGuidelines() {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PA Media - Brand Guidelines</title>
    <style>
        :root {
            --pa-primary: #825FFF;
            --pa-secondary: #3D3677;
            --pa-accent: #A855F7;
            --pa-text: #1F2937;
            --pa-light: #F8FAFC;
            --pa-white: #FFFFFF;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            colour: var(--pa-text);
            background: var(--pa-light);
        }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
        
        .header {
            background: linear-gradient(135deg, var(--pa-primary) 0%, var(--pa-secondary) 100%);
            colour: var(--pa-white);
            padding: 4rem 2rem;
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .section {
            background: var(--pa-white);
            border-radius: 12px;
            padding: 3rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }
        
        .colour-palette {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .colour-swatch {
            text-align: center;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .colour-display {
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            colour: white;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .colour-info {
            padding: 1rem;
            background: var(--pa-white);
        }
        
        .typography-demo {
            margin: 2rem 0;
        }
        
        .logo-showcase {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .logo-variant {
            text-align: center;
            padding: 2rem;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
        }
        
        h1, h2, h3 { colour: var(--pa-primary); margin-bottom: 1rem; }
        h1 { font-size: 3rem; }
        h2 { font-size: 2rem; }
        h3 { font-size: 1.5rem; }
    </style>
</head>
<body>
    <div class="header">
        <h1>PA Media Brand Guidelines</h1>
        <p style="font-size: 1.2rem; opacity: 0.9;">Professional brand identity and usage guidelines</p>
    </div>
    
    <div class="container">
        <div class="section">
            <h2>Brand Colours</h2>
            <p>Our colour palette reflects professionalism, innovation, and trust.</p>
            <div class="colour-palette">
                <div class="colour-swatch">
                    <div class="colour-display" style="background: var(--pa-primary);">Primary</div>
                    <div class="colour-info">
                        <strong>#825FFF</strong><br>
                        RGB(130, 95, 255)<br>
                        Main brand colour
                    </div>
                </div>
                <div class="colour-swatch">
                    <div class="colour-display" style="background: var(--pa-secondary);">Secondary</div>
                    <div class="colour-info">
                        <strong>#3D3677</strong><br>
                        RGB(61, 54, 119)<br>
                        Supporting colour
                    </div>
                </div>
                <div class="colour-swatch">
                    <div class="colour-display" style="background: var(--pa-accent);">Accent</div>
                    <div class="colour-info">
                        <strong>#A855F7</strong><br>
                        RGB(168, 85, 247)<br>
                        Highlight colour
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>Typography</h2>
            <div class="typography-demo">
                <h1 style="margin-bottom: 0.5rem;">Heading 1 - 3rem</h1>
                <p style="margin-bottom: 2rem; colour: #6B7280;">Used for main page titles and hero headings</p>
                
                <h2 style="margin-bottom: 0.5rem;">Heading 2 - 2rem</h2>
                <p style="margin-bottom: 2rem; colour: #6B7280;">Used for section headings and major content divisions</p>
                
                <h3 style="margin-bottom: 0.5rem;">Heading 3 - 1.5rem</h3>
                <p style="margin-bottom: 2rem; colour: #6B7280;">Used for subsections and card titles</p>
                
                <p style="font-size: 1rem; margin-bottom: 1rem;"><strong>Body Text Regular - 1rem</strong></p>
                <p style="margin-bottom: 2rem; colour: #6B7280;">Standard body text used for content, descriptions, and general information.</p>
            </div>
        </div>
        
        <div class="section">
            <h2>Logo Usage</h2>
            <div class="logo-showcase">
                <div class="logo-variant">
                    <div style="font-size: 2rem; font-weight: bold; colour: var(--pa-primary); margin-bottom: 1rem;">PA Media</div>
                    <p><strong>Primary Logo</strong><br>Use on light backgrounds</p>
                </div>
                <div class="logo-variant" style="background: var(--pa-primary); colour: white;">
                    <div style="font-size: 2rem; font-weight: bold; margin-bottom: 1rem;">PA Media</div>
                    <p><strong>Reverse Logo</strong><br>Use on dark backgrounds</p>
                </div>
                <div class="logo-variant">
                    <div style="font-size: 1.5rem; font-weight: bold; colour: var(--pa-secondary); margin-bottom: 1rem;">PA MEDIA</div>
                    <p><strong>Text Only</strong><br>For small applications</p>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>Usage Guidelines</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <div>
                    <h3 style="colour: #10B981;">✓ Do</h3>
                    <ul style="colour: #374151;">
                        <li>Use approved colour combinations</li>
                        <li>Maintain consistent typography</li>
                        <li>Ensure proper logo spacing</li>
                        <li>Keep designs clean and professional</li>
                        <li>Use high-resolution assets</li>
                    </ul>
                </div>
                <div>
                    <h3 style="colour: #DC2626;">✗ Don't</h3>
                    <ul style="colour: #374151;">
                        <li>Alter logo proportions or colours</li>
                        <li>Use unauthorized fonts</li>
                        <li>Crowd the logo with other elements</li>
                        <li>Use low-quality or pixelated images</li>
                        <li>Apply effects or distortions to the logo</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>Applications</h2>
            <p>These guidelines apply to all PA Media communications including:</p>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 2rem 0;">
                <div style="background: var(--pa-light); padding: 1rem; border-radius: 8px; text-align: center;">
                    <strong>Websites</strong><br>Digital platforms
                </div>
                <div style="background: var(--pa-light); padding: 1rem; border-radius: 8px; text-align: center;">
                    <strong>Presentations</strong><br>PowerPoint & slides
                </div>
                <div style="background: var(--pa-light); padding: 1rem; border-radius: 8px; text-align: center;">
                    <strong>Print Materials</strong><br>Brochures & flyers
                </div>
                <div style="background: var(--pa-light); padding: 1rem; border-radius: 8px; text-align: center;">
                    <strong>Digital Assets</strong><br>Social media & email
                </div>
            </div>
        </div>
    </div>
    
    <footer style="background: var(--pa-secondary); colour: var(--pa-white); padding: 2rem; text-align: center;">
        <p>&copy; 2024 PA Media Group. Brand Guidelines v1.0</p>
    </footer>
</body>
</html>`;
        }

        function downloadBrandGuidelines() {
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'Generating Guidelines...';
            button.disabled = true;
            
            setTimeout(() => {
                try {
                    const content = generatePABrandGuidelines();
                    const blob = new Blob([content], { type: 'text/html' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'pa-media-brand-guidelines.html';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    button.innerHTML = '<svg class="icon icon-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24"><use href="#icon-check-circle"></use></svg> Downloaded!';
                    button.style.background = '#059669';
                } catch (error) {
                    console.error('Brand guidelines download failed:', error);
                    button.innerHTML = '<svg class="icon icon-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24"><use href="#icon-exclamation-triangle"></use></svg> Error';
                    button.style.background = '#dc2626';
                } finally {
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.style.background = '#374151';
                        button.disabled = false;
                    }, 2000);
                }
            }, 1500);
        }
        
        function downloadAllPATemplates() {
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'Preparing Complete Suite...';
            button.disabled = true;
            
            setTimeout(() => {
                try {
                    // Download all templates as separate files
                    const templates = [
                        { name: 'pa-media-website-templates.html', content: generatePAWebsiteTemplate() },
                        { name: 'pa-media-presentation-templates.html', content: generatePAPresentationTemplate() },
                        { name: 'pa-media-digital-assets.html', content: generatePADigitalAssets() },
                        { name: 'pa-media-brand-guidelines.html', content: generatePABrandGuidelines() }
                    ];
                    
                    templates.forEach((template, index) => {
                        setTimeout(() => {
                            const blob = new Blob([template.content], { type: 'text/html' });
                            const url = URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = template.name;
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                            URL.revokeObjectURL(url);
                        }, index * 500);
                    });
                    
                    button.innerHTML = '<svg class="icon icon-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24"><use href="#icon-check-circle"></use></svg> Complete Suite Downloaded!';
                    button.style.background = '#059669';
                } catch (error) {
                    console.error('Complete suite download failed:', error);
                    button.innerHTML = '<svg class="icon icon-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24"><use href="#icon-exclamation-triangle"></use></svg> Error';
                    button.style.background = '#dc2626';
                } finally {
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.style.background = '#825FFF';
                        button.disabled = false;
                    }, 3000);
                }
            }, 2000);
        }
        
        function previewPATemplates() {
            alert('PA Media Template Preview:\n\n• Website Templates - Professional homepage and service pages\n• Presentation Templates - PowerPoint-style slide layouts\n• Digital Assets - Teams backgrounds and social media templates\n• Brand Guidelines - Complete brand identity documentation\n\nUse the download buttons to get the complete template files.');
        }
        
        // PA TV Metadata Functions
        function downloadAllPATVTemplates() {
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'Preparing PA TV Metadata Suite...';
            button.disabled = true;
            
            setTimeout(() => {
                try {
                    // Download PA TV Metadata templates
                    const templates = [
                        { name: 'pa-tv-metadata-dashboard.html', content: generatePATVDashboardTemplate() },
                        { name: 'pa-tv-metadata-schedule.html', content: generatePATVScheduleTemplate() },
                        { name: 'pa-tv-metadata-analytics.html', content: generatePATVAnalyticsTemplate() },
                        { name: 'pa-tv-metadata-content-management.html', content: generatePATVContentTemplate() }
                    ];
                    
                    templates.forEach(template => {
                        const blob = new Blob([template.content], { type: 'text/html' });
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = template.name;
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);
                    });
                    
                    showDownloadSuccess('pa-tv-complete-suite');
                    button.textContent = '✓ Downloaded PA TV Suite';
                    button.style.background = '#10b981';
                    
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.style.background = 'rgb(130, 95, 255)';
                        button.disabled = false;
                    }, 3000);
                } catch (error) {
                    console.error('Download error:', error);
                    button.textContent = 'Download Failed - Try Again';
                    button.style.background = '#dc2626';
                    
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.style.background = 'rgb(130, 95, 255)';
                        button.disabled = false;
                    }, 3000);
                }
            }, 2000);
        }
        
        function previewPATVTemplates() {
            alert('PA TV Metadata Template Preview:\n\n• Dashboard Templates - TV metadata management interfaces\n• Schedule Templates - Broadcast schedule displays\n• Analytics Templates - Viewership metrics and performance charts\n• Content Management - Media library and asset organization\n\nUse the download buttons to get the complete template files.');
        }
        
        // PA TV Metadata Logo Functions
        function downloadPATVLogo(type) {
            const logoAssets = {
                'adjacent-png': ['PA TV Metadata Logos/Adjacent/PNG/PA TV Metadata_Black Adjacent.png', 'PA TV Metadata Logos/Adjacent/PNG/PA-TV-Metadata_White-Adjacent.png'],
                'adjacent-svg': ['PA TV Metadata Logos/Adjacent/SVG/PA TV Metadata_Black Adjacent.svg', 'PA TV Metadata Logos/Adjacent/SVG/PA-TV-Metadata_White-Adjacent.svg'],
                'stacked-png': ['PA TV Metadata Logos/Stacked/PNG/PA TV Metadata_Black Stacked.png', 'PA TV Metadata Logos/Stacked/PNG/PA TV Metadata_Stacked_White.png'],
                'stacked-svg': ['PA TV Metadata Logos/Stacked/SVG/PA TV Metadata_Black Stacked.svg', 'PA TV Metadata Logos/Stacked/SVG/PA TV Metadata_Stacked_White.svg'],
                'all-png': ['PA TV Metadata Logos/Adjacent/PNG/PA TV Metadata_Black Adjacent.png', 'PA TV Metadata Logos/Adjacent/PNG/PA-TV-Metadata_White-Adjacent.png', 'PA TV Metadata Logos/Stacked/PNG/PA TV Metadata_Black Stacked.png', 'PA TV Metadata Logos/Stacked/PNG/PA TV Metadata_Stacked_White.png'],
                'all-svg': ['PA TV Metadata Logos/Adjacent/SVG/PA TV Metadata_Black Adjacent.svg', 'PA TV Metadata Logos/Adjacent/SVG/PA-TV-Metadata_White-Adjacent.svg', 'PA TV Metadata Logos/Stacked/SVG/PA TV Metadata_Black Stacked.svg', 'PA TV Metadata Logos/Stacked/SVG/PA TV Metadata_Stacked_White.svg']
            };
            
            alert(`Downloading PA TV Metadata logos - ${type}.\n\nNote: These logos are located in your project folder at:\nPA TV Metadata Logos/\n\nIncluded formats:\n• PNG (high resolution, transparent)\n• SVG (vector, scalable)\n• Adjacent & Stacked orientations\n• Black & White variants`);
        }
        
        function downloadAllPATVLogos() {
            alert('Downloading complete PA TV Metadata logo asset package.\n\nIncluded:\n• All PNG files (4 logos)\n• All SVG files (4 logos)\n• Adjacent layouts (horizontal)\n• Stacked layouts (vertical)\n• Black and white variants\n• Usage guidelines\n\nLogos are located in: PA TV Metadata Logos/');
        }
        
        function previewPATVLogos() {
            alert('PA TV Metadata Logo Assets Preview:\n\n• Adjacent Layout - Horizontal orientation for headers and wide spaces\n• Stacked Layout - Vertical orientation for social media and square formats\n• PNG Format - High-resolution raster for most applications\n• SVG Format - Vector graphics for scalable applications\n• Black & White variants for different background colours\n\nAll assets maintain professional quality and brand consistency.');
        }
        
        function downloadPATVLogoGuidelines() {
            const guidelines = `PA TV Metadata Logo Usage Guidelines\n\nLogo Variants:\n• Adjacent Layout: Use for headers, footers, and wide horizontal spaces\n• Stacked Layout: Use for social media, square formats, and vertical layouts\n\nColor Usage:\n• Black logos: Use on light backgrounds\n• White logos: Use on dark backgrounds\n• Maintain proper contrast ratios\n\nFile Formats:\n• PNG: For most digital applications, social media, presentations\n• SVG: For web development, scalable applications, print\n\nMinimum Size:\n• Adjacent: 120px wide minimum\n• Stacked: 80px wide minimum\n\nClear Space:\n• Maintain clear space equal to the height of the 'TV' text around all logos`;
            
            const blob = new Blob([guidelines], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'PA-TV-Metadata-Logo-Guidelines.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // PA TV Metadata Template Generators
        function generatePATVDashboardTemplate() {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PA TV Metadata - Dashboard</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'greycliff-cf', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8f9fa; }
        .header { background: rgb(130, 95, 255); colour: white; padding: 1rem 2rem; }
        .logo { font-size: 1.5rem; font-weight: 700; }
        .dashboard { display: grid; grid-template-columns: 250px 1fr; min-height: calc(100vh - 80px); }
        .sidebar { background: white; padding: 2rem 1rem; border-right: 1px solid #e5e7eb; }
        .main-content { padding: 2rem; }
        .card { background: white; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .metric { text-align: center; }
        .metric-value { font-size: 2rem; font-weight: 700; colour: rgb(130, 95, 255); }
        .metric-label { colour: #6b7280; margin-top: 0.5rem; }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">PA TV Metadata</div>
    </header>
    <div class="dashboard">
        <aside class="sidebar">
            <nav>
                <ul style="list-style: none;">
                    <li style="margin-bottom: 1rem;"><a href="#" style="colour: rgb(130, 95, 255); text-decoration: none; font-weight: 500;">Dashboard</a></li>
                    <li style="margin-bottom: 1rem;"><a href="#" style="colour: #6b7280; text-decoration: none;">Schedules</a></li>
                    <li style="margin-bottom: 1rem;"><a href="#" style="colour: #6b7280; text-decoration: none;">Analytics</a></li>
                    <li style="margin-bottom: 1rem;"><a href="#" style="colour: #6b7280; text-decoration: none;">Content</a></li>
                </ul>
            </nav>
        </aside>
        <main class="main-content">
            <h1 style="margin-bottom: 2rem; colour: #1f2937;">TV Metadata Dashboard</h1>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                <div class="card metric">
                    <div class="metric-value">1,247</div>
                    <div class="metric-label">Programs Scheduled</div>
                </div>
                <div class="card metric">
                    <div class="metric-value">89%</div>
                    <div class="metric-label">Metadata Completion</div>
                </div>
                <div class="card metric">
                    <div class="metric-value">24/7</div>
                    <div class="metric-label">Broadcast Hours</div>
                </div>
            </div>
            <div class="card">
                <h3 style="margin-bottom: 1rem; colour: #1f2937;">Recent Activity</h3>
                <div style="space-y: 1rem;">
                    <div style="padding: 1rem; background: #f8f9fa; border-radius: 6px; margin-bottom: 1rem;">
                        <div style="font-weight: 500; colour: #1f2937;">Morning News Updated</div>
                        <div style="colour: #6b7280; font-size: 0.9rem;">Metadata synced for 06:00 broadcast</div>
                    </div>
                    <div style="padding: 1rem; background: #f8f9fa; border-radius: 6px; margin-bottom: 1rem;">
                        <div style="font-weight: 500; colour: #1f2937;">Evening Schedule Confirmed</div>
                        <div style="colour: #6b7280; font-size: 0.9rem;">Prime time lineup metadata complete</div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>
</html>`;
        }
        
        function generatePATVScheduleTemplate() {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PA TV Metadata - Schedule</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'greycliff-cf', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8f9fa; }
        .header { background: rgb(130, 95, 255); colour: white; padding: 1rem 2rem; }
        .logo { font-size: 1.5rem; font-weight: 700; }
        .schedule { padding: 2rem; }
        .time-slot { display: grid; grid-template-columns: 100px 1fr; gap: 1rem; padding: 1rem; border-bottom: 1px solid #e5e7eb; background: white; margin-bottom: 1px; }
        .time { font-weight: 600; colour: rgb(130, 95, 255); }
        .program { }
        .program-title { font-weight: 600; colour: #1f2937; margin-bottom: 0.25rem; }
        .program-desc { colour: #6b7280; font-size: 0.9rem; }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">PA TV Metadata - Schedule</div>
    </header>
    <div class="schedule">
        <h1 style="margin-bottom: 2rem; colour: #1f2937;">Today's Broadcast Schedule</h1>
        <div class="time-slot">
            <div class="time">06:00</div>
            <div class="program">
                <div class="program-title">Morning News</div>
                <div class="program-desc">Latest news and weather updates</div>
            </div>
        </div>
        <div class="time-slot">
            <div class="time">09:00</div>
            <div class="program">
                <div class="program-title">Business Today</div>
                <div class="program-desc">Market analysis and financial news</div>
            </div>
        </div>
        <div class="time-slot">
            <div class="time">12:00</div>
            <div class="program">
                <div class="program-title">Midday Report</div>
                <div class="program-desc">Comprehensive news roundup</div>
            </div>
        </div>
        <div class="time-slot">
            <div class="time">18:00</div>
            <div class="program">
                <div class="program-title">Evening News</div>
                <div class="program-desc">Prime time news and analysis</div>
            </div>
        </div>
        <div class="time-slot">
            <div class="time">21:00</div>
            <div class="program">
                <div class="program-title">Documentary Feature</div>
                <div class="program-desc">In-depth investigative reporting</div>
            </div>
        </div>
    </div>
</body>
</html>`;
        }
        
        function generatePATVAnalyticsTemplate() {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PA TV Metadata - Analytics</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'greycliff-cf', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8f9fa; }
        .header { background: rgb(130, 95, 255); colour: white; padding: 1rem 2rem; }
        .logo { font-size: 1.5rem; font-weight: 700; }
        .analytics { padding: 2rem; }
        .chart-placeholder { height: 300px; background: white; border-radius: 8px; display: flex; align-items: center; justify-content: center; colour: #6b7280; margin-bottom: 2rem; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; }
        .stat-card { background: white; padding: 1.5rem; border-radius: 8px; text-align: center; }
        .stat-value { font-size: 2rem; font-weight: 700; colour: rgb(130, 95, 255); }
        .stat-label { colour: #6b7280; margin-top: 0.5rem; }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">PA TV Metadata - Analytics</div>
    </header>
    <div class="analytics">
        <h1 style="margin-bottom: 2rem; colour: #1f2937;">Viewership Analytics</h1>
        <div class="chart-placeholder">
            <div>📊 Viewership Chart Placeholder - Integrate with your analytics platform</div>
        </div>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">2.4M</div>
                <div class="stat-label">Total Viewers</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">156%</div>
                <div class="stat-label">Growth Rate</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">42min</div>
                <div class="stat-label">Avg. Watch Time</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">87%</div>
                <div class="stat-label">Engagement Rate</div>
            </div>
        </div>
    </div>
</body>
</html>`;
        }
        
        function generatePATVContentTemplate() {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PA TV Metadata - Content Management</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'greycliff-cf', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8f9fa; }
        .header { background: rgb(130, 95, 255); colour: white; padding: 1rem 2rem; }
        .logo { font-size: 1.5rem; font-weight: 700; }
        .content-manager { padding: 2rem; }
        .content-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem; }
        .content-card { background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .content-thumbnail { height: 150px; background: linear-gradient(135deg, rgb(130, 95, 255), rgb(61, 54, 119)); display: flex; align-items: center; justify-content: center; colour: white; font-size: 2rem; }
        .content-info { padding: 1rem; }
        .content-title { font-weight: 600; colour: #1f2937; margin-bottom: 0.5rem; }
        .content-meta { colour: #6b7280; font-size: 0.9rem; }
        .tag { background: #f3f4f6; colour: #6b7280; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8rem; margin-right: 0.5rem; }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">PA TV Metadata - Content Management</div>
    </header>
    <div class="content-manager">
        <h1 style="margin-bottom: 2rem; colour: #1f2937;">Content Library</h1>
        <div class="content-grid">
            <div class="content-card">
                <div class="content-thumbnail">📺</div>
                <div class="content-info">
                    <div class="content-title">Morning News Bulletin</div>
                    <div class="content-meta">Duration: 30 minutes • Updated: 2 hours ago</div>
                    <div style="margin-top: 0.5rem;">
                        <span class="tag">News</span>
                        <span class="tag">Live</span>
                    </div>
                </div>
            </div>
            <div class="content-card">
                <div class="content-thumbnail">🎥</div>
                <div class="content-info">
                    <div class="content-title">Business Analysis</div>
                    <div class="content-meta">Duration: 45 minutes • Updated: 4 hours ago</div>
                    <div style="margin-top: 0.5rem;">
                        <span class="tag">Business</span>
                        <span class="tag">Analysis</span>
                    </div>
                </div>
            </div>
            <div class="content-card">
                <div class="content-thumbnail">🌍</div>
                <div class="content-info">
                    <div class="content-title">International Report</div>
                    <div class="content-meta">Duration: 25 minutes • Updated: 6 hours ago</div>
                    <div style="margin-top: 0.5rem;">
                        <span class="tag">International</span>
                        <span class="tag">Report</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>`;
        }
    </script>

    <script>
        // Notification functions for PA Media downloads
        function showDownloadSuccess(type) {
            const typeNames = {
                'website': 'Website Templates',
                'presentation': 'Presentation Templates', 
                'digital': 'Digital Assets',
                'brand-guidelines': 'Brand Guidelines',
                'complete-suite': 'Complete Template Suite',
                'pa-tv-complete-suite': 'PA TV Metadata Template Suite'
            };
            
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 2rem;
                right: 2rem;
                background: #10b981;
                colour: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                font-weight: 500;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 1000;
            `;
            
            notification.innerHTML = `<svg class="icon icon-sm" fill="none" stroke="currentColor" viewBox="0 0 24 24"><use href="#icon-check-circle"></use></svg> ${typeNames[type] || 'Templates'} downloaded successfully!`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 4000);
        }
        
        function showDownloadError(type) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 2rem;
                right: 2rem;
                background: #ef4444;
                colour: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                font-weight: 500;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            `;
            
            notification.textContent = `❌ Download failed. Please try again.`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 4000);
        }

        function openWalkthroughModal() {
            document.getElementById('walkthroughModal').style.display = 'flex';
        }

        function closeWalkthroughModal() {
            document.getElementById('walkthroughModal').style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('walkthroughModal');
            if (event.target === modal) {
                closeWalkthroughModal();
            }
            
            const previewModal = document.getElementById('paPreviewModal');
            if (event.target === previewModal) {
                closePAPreviewModal();
            }
        }

        function previewPATemplate(type) {
            let content = '';
            let title = '';
            
            if (type === 'website') {
                title = 'PA Media Website Templates Preview';
                content = generatePAWebsiteTemplate();
            } else if (type === 'presentation') {
                title = 'PA Media Presentation Templates Preview';
                content = generatePAPresentationTemplate();
            } else if (type === 'digital') {
                title = 'PA Media Digital Assets Preview';
                content = generatePADigitalAssets();
            } else if (type === 'print') {
                title = 'PA Media Print Templates Preview';
                content = `<div style="padding: 2rem; background: #f8fafc;">
                    <h2 style="colour: #825FFF; margin-bottom: 1rem;">Print Template Preview</h2>
                    <p style="colour: #6b7280; margin-bottom: 2rem;">Professional print-ready templates with PA Media branding</p>
                    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                        <div style="text-align: center; border-bottom: 3px solid #825FFF; padding-bottom: 1rem; margin-bottom: 2rem;">
                            <h1 style="colour: #825FFF; font-size: 2rem; margin-bottom: 0.5rem;">PA MEDIA</h1>
                            <p style="colour: #3D3677; font-size: 1.1rem;">Professional Communication Solutions</p>
                        </div>
                        <div style="margin-bottom: 2rem;">
                            <h3 style="colour: #374151; margin-bottom: 1rem;">Business Card Template</h3>
                            <div style="background: #825FFF; colour: white; padding: 1.5rem; border-radius: 8px; display: inline-block;">
                                <h4 style="colour: white; margin-bottom: 0.5rem;">PA MEDIA</h4>
                                <p style="font-size: 0.9rem; margin-bottom: 1rem;">Your Name • Your Title</p>
                                <p style="font-size: 0.8rem; line-height: 1.4;">
                                    email@pamedia.com<br>
                                    www.pamedia.com<br>
                                    +44 20 1234 5678
                                </p>
                            </div>
                        </div>
                        <div>
                            <h3 style="colour: #374151; margin-bottom: 1rem;">Letterhead Template</h3>
                            <div style="border: 1px solid #e5e7eb; padding: 2rem; background: white;">
                                <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #825FFF; padding-bottom: 1rem; margin-bottom: 2rem;">
                                    <h2 style="colour: #825FFF; margin: 0;">PA MEDIA</h2>
                                    <p style="colour: #6b7280; margin: 0; font-size: 0.9rem;">Professional Communication Solutions</p>
                                </div>
                                <p style="colour: #374151; line-height: 1.6;">
                                    [Your letter content goes here. This letterhead template provides a professional foundation for all PA Media correspondence.]
                                </p>
                            </div>
                        </div>
                    </div>
                </div>`;
            }
            
            document.getElementById('paPreviewTitle').textContent = title;
            document.getElementById('paPreviewContent').innerHTML = content;
            document.getElementById('paPreviewModal').style.display = 'flex';
        }

        function closePAPreviewModal() {
            document.getElementById('paPreviewModal').style.display = 'none';
        }

        function updateClaudePromptPreview() {
            try {
                // Get form data directly from DOM elements
                const selectedTemplate = document.querySelector('.template-option.active')?.dataset.template || 'hero';
                const selectedStyle = document.querySelector('.style-option.active')?.dataset.style || 'minimalist';
                const siteTitle = document.getElementById('siteTitle')?.value || 'Your Brand';
                const siteSubtitle = document.getElementById('siteSubtitle')?.value || 'Creating beautiful experiences';
                const fontFamily = document.getElementById('fontFamily')?.value || 'Inter';
                const navLinksText = document.getElementById('navLinks')?.value || 'Home\nAbout\nServices\nContact';
                const mainContent = document.getElementById('mainContent')?.value || 'Welcome to our website where we create amazing experiences for our users.';
                
                const prompt = `Convert this ${selectedStyle} design template to a modern, responsive website:

**Design Specifications:**
- Style: ${selectedStyle.charAt(0).toUpperCase() + selectedStyle.slice(1)}
- Layout: ${selectedTemplate.charAt(0).toUpperCase() + selectedTemplate.slice(1)}
- Title: "${siteTitle}"
- Subtitle: "${siteSubtitle}"
- Typography: ${fontFamily}

**Navigation Links:**
${navLinksText.split('\n').map(link => `- ${link.trim()}`).join('\n')}

**Main Content:**
${mainContent}

**Requirements:**
- Use modern HTML5 semantic elements
- Include responsive CSS with mobile-first approach
- Add smooth hover effects and transitions
- Ensure accessibility (ARIA labels, proper contrast)
- Include meta tags for SEO
- Use CSS Grid and Flexbox for layouts
- Make it production-ready

**Framework Preference:** You can suggest React, Vue, or vanilla HTML/CSS based on the design complexity.

Please create a complete, professional implementation following the ${selectedStyle} design aesthetic.`;

                const previewElement = document.getElementById('claudePromptPreview');
                if (previewElement) {
                    previewElement.textContent = prompt;
                }
            } catch (error) {
                console.log('Preview update error:', error);
                const previewElement = document.getElementById('claudePromptPreview');
                if (previewElement) {
                    previewElement.textContent = 'Preview will appear when form is filled...';
                }
            }
        }

        // Update prompt preview when page loads and form changes
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(updateClaudePromptPreview, 1000); // Delay to ensure generator is loaded
            
            // Update prompt when form inputs change
            const formInputs = document.querySelectorAll('input, select, textarea');
            formInputs.forEach(input => {
                input.addEventListener('input', updateClaudePromptPreview);
                input.addEventListener('change', updateClaudePromptPreview);
            });
            
            // Update when template options are clicked
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('template-option') || e.target.closest('.template-option')) {
                    const templateOption = e.target.classList.contains('template-option') ? 
                        e.target : e.target.closest('.template-option');
                    
                    // Remove active class from all options
                    document.querySelectorAll('.template-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    
                    // Add active class to clicked option
                    templateOption.classList.add('active');
                    
                    setTimeout(updateClaudePromptPreview, 100);
                }
            });
        });
    </script>

    <!-- Walkthrough Modal -->
    <div id="walkthroughModal" class="walkthrough-modal" style="display: none;">
        <div class="modal-overlay" onclick="closeWalkthroughModal()"></div>
        <div class="walkthrough-content">
            <div class="walkthrough-header">
                <h2>Homepage Design Generator - Quick Walkthrough</h2>
                <button onclick="closeWalkthroughModal()" class="modal-close">&times;</button>
            </div>
            <div class="walkthrough-body">
                <div class="walkthrough-step">
                    <h3>1. Choose Your Layout Template</h3>
                    <p>Select from professional layout templates including Hero, Centred, Sidebar, Grid, Split, and Masonry. All templates use a clean, simple design aesthetic.</p>
                </div>
                <div class="walkthrough-step">
                    <h3>2. Customise Your Design</h3>
                    <p>Use the advanced customisation controls to adjust density, width, borders, and shadows. Customise colours, typography, and content to match your brand.</p>
                </div>
                <div class="walkthrough-step">
                    <h3>3. Preview & Export</h3>
                    <p>Your design preview updates automatically as you make changes. Use "Quick Export" to download complete HTML files ready for deployment.</p>
                </div>
                <div class="walkthrough-step">
                    <h3>4. Additional Features</h3>
                    <ul>
                        <li><strong>URL Import:</strong> Import existing website designs to modify</li>
                        <li><strong>PA Media Templates:</strong> Access professional media brand templates</li>
                        <li><strong>Claude Code Integration:</strong> Generate prompts for further development</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- PA Media Preview Modal -->
    <div id="paPreviewModal" class="walkthrough-modal" style="display: none;">
        <div class="modal-overlay" onclick="closePAPreviewModal()"></div>
        <div class="walkthrough-content" style="max-width: 900px; max-height: 90vh;">
            <div class="walkthrough-header">
                <h2 id="paPreviewTitle">PA Media Template Preview</h2>
                <button onclick="closePAPreviewModal()" class="modal-close">&times;</button>
            </div>
            <div class="walkthrough-body" style="max-height: 70vh; overflow-y: auto;">
                <div id="paPreviewContent">
                    <!-- Preview content will be inserted here -->
                </div>
            </div>
        </div>
    </div>
    
</body>
</html>
